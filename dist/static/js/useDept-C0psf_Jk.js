import{e as t,U as e}from"./index-CaTNYhxh.js";import{b as n}from"./dept-BtlGnOEc.js";function s(s){const a=t(!1),i=t([]);return{deptList:i,getDeptList:async()=>{try{a.value=!0;const t=await n.getList();i.value=e.mapTree(t.data,t=>{var e;return(null==(e=t.children)?void 0:e.length)&&(t.children=t.children.filter(t=>1===t.status)),t}),(null==s?void 0:s.onSuccess)&&s.onSuccess()}finally{a.value=!1}},loading:a}}export{s as u};
