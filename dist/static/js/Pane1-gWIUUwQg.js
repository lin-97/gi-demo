import{_ as e}from"./index-Bn14wxeI.js";import{_ as a}from"./GiEditTable.vue_vue_type_script_setup_true_lang-fHxsrUWB.js";import t from"./FilterAddress-BbY4iD5p.js";import{a as s}from"./regexp-CZKnpGWl.js";import{d as l,e as n,c as i,H as r,i as d,D as u,V as o,f as c,o as p,g as m,w as f,h as v,t as _,j as y,_ as x}from"./index-CG4-mVeE.js";import{u as g}from"./useDict-Dq7Mvvda.js";const h={class:"pane"},w=x(l({name:"FormTable",__name:"Pane1",setup(l){const{data:x}=g({code:"status"}),w=n(!1),b=n([{name:"张三",phone:"",address:"广州市",rate:3,status:0,num:0}]),j=i((()=>JSON.stringify(b.value,null,"\t"))),I=r("GiEditTableRef"),C=i((()=>[{type:"input",title:"姓名",dataIndex:"name",required:!0},{type:"input",title:"手机号",dataIndex:"phone",required:!0,rules:[{match:s,message:"手机号格式不正确"}]},{type:"select",title:"状态",dataIndex:"status",props:{options:x.value}},{type:"rate",title:"评分",dataIndex:"rate",columnProps:{width:200}},{type:"input-number",title:"小数",dataIndex:"num",columnProps:{width:120}},{type:"textarea",title:"地址",dataIndex:"address",props:{autoSize:!0,maxLength:200,showWordLimit:!0},columnProps:{width:250,title:()=>d(c("a-space"),null,{default:()=>[d("span",null,[u("地址 ")]),d(t,{onConfirm:e=>{o.success(`点击了确认，查询值为: ${e||"空"}`)}},null)]})}},{type:"",title:"操作",dataIndex:"action",slotName:"action",columnProps:{width:100,align:"center",fixed:"right"},formItemProps:{contentClass:"arco-table-cell-align-center"}}])),k=()=>{b.value.push({name:"",phone:"",address:"",rate:0,status:0,num:0})},R=()=>{var e,a;w.value=!w.value,w.value&&(null==(a=null==(e=I.value)?void 0:e.formRef)||a.clearValidate())},P=()=>{var e,a,t,s;null==(a=null==(e=I.value)?void 0:e.formRef)||a.resetFields(),null==(s=null==(t=I.value)?void 0:t.formRef)||s.clearValidate()},T=async()=>{var e,a;const t=await(null==(a=null==(e=I.value)?void 0:e.formRef)?void 0:a.validate());if(t){const e=Object.values(t);o.warning(e[0].message)}else o.success("验证通过~")},E=({rowIndex:e,col:a})=>!!w.value||"name"===a.dataIndex&&0===e;return(t,s)=>{const l=c("a-button"),n=c("icon-plus"),i=c("a-space"),r=c("a-row"),o=a,x=e;return p(),m("div",h,[d(r,{justify:"end"},{default:f((()=>[d(i,{wrap:""},{default:f((()=>[d(l,{type:"primary",status:v(w)?"success":"warning",onClick:R},{default:f((()=>[u(_(v(w)?"编辑":"只读"),1)])),_:1},8,["status"]),d(l,{type:"primary",onClick:k},{icon:f((()=>[d(n)])),default:f((()=>[s[0]||(s[0]=y("span",null,"新增",-1))])),_:1})])),_:1})])),_:1}),d(o,{ref_key:"GiEditTableRef",ref:I,scroll:{minWidth:1200},columns:v(C),data:v(b),"cell-disabled":E},{action:f((({rowIndex:e})=>[d(i,null,{default:f((()=>[d(l,{type:"primary",status:"danger",size:"mini",disabled:0===e,onClick:a=>{return t=e,void b.value.splice(t,1);var t}},{default:f((()=>s[1]||(s[1]=[u(" 删除 ")]))),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["columns","data"]),d(r,{justify:"end",class:"gi_mt"},{default:f((()=>[d(i,{wrap:""},{default:f((()=>[d(l,{onClick:P},{default:f((()=>s[2]||(s[2]=[u("重置")]))),_:1}),d(l,{type:"primary",onClick:T},{default:f((()=>s[3]||(s[3]=[u("验证并提交")]))),_:1})])),_:1})])),_:1}),d(x,{"code-json":v(j)},null,8,["code-json"])])}}}),[["__scopeId","data-v-be4bd1f3"]]);export{w as default};
