import{_ as e}from"./index-DKPnCvLQ.js";import{_ as a}from"./GiEditTable-CYH_z5az.js";import{a as t}from"./regexp-CZKnpGWl.js";import{d as s,e as l,c as i,I as n,f as r,o,g as d,i as u,w as c,D as p,j as m,h as f,a as v,M as y}from"./index-CTftGuoI.js";import{u as _}from"./useDict-CqZsxzDW.js";const x={class:"gi_padding"},w=s({name:"FormTable",__name:"Pane2",setup(s){const{data:w}=_({code:"status"}),g=l(-1),b=l([{name:"张三",phone:"",address:"广州市",rate:3,status:0,num:0}]),h=i((()=>JSON.stringify(b.value,null,"\t"))),k=n("GiEditTableRef"),I=i((()=>[{type:"input",title:"姓名",dataIndex:"name",required:!0},{type:"input",title:"手机号",dataIndex:"phone",required:!0,rules:[{match:t,message:"手机号格式不正确"}]},{type:"select",title:"状态",dataIndex:"status",props:{options:w.value}},{type:"rate",title:"评分",dataIndex:"rate",columnProps:{width:200}},{type:"input-number",title:"小数",dataIndex:"num",columnProps:{width:120}},{type:"textarea",title:"地址",dataIndex:"address",props:{autoSize:!0,maxLength:200,showWordLimit:!0},columnProps:{width:250}},{type:"",title:"操作",dataIndex:"action",slotName:"action",columnProps:{width:140,align:"center",fixed:"right"},formItemProps:{contentClass:"arco-table-cell-align-center"}}])),j=()=>{b.value.push({name:"",phone:"",address:"",rate:0,status:0,num:0})},C=e=>{g.value=e.rowIndex,y.success("GiEditTable自定义的双击事件，参数有rowIndex")},T=()=>{y.info("Arco表格原生自带双击事件")},P=()=>{var e,a,t,s;null==(a=null==(e=k.value)?void 0:e.formRef)||a.resetFields(),null==(s=null==(t=k.value)?void 0:t.formRef)||s.clearValidate()},R=async()=>{var e,a;const t=await(null==(a=null==(e=k.value)?void 0:e.formRef)?void 0:a.validate());if(t){const e=Object.values(t);y.warning(e[0].message)}else y.success("验证通过~")},z=({rowIndex:e})=>g.value!==e;return(t,s)=>{const l=r("a-alert"),i=r("icon-plus"),n=r("a-button"),y=r("a-space"),_=r("a-row"),w=a,E=e;return o(),d("div",x,[u(l,null,{default:c((()=>s[1]||(s[1]=[p("此示例基于GiEditTable实现了行编辑，以及行双击编辑")]))),_:1}),u(_,{class:"gi_mt",justify:"end"},{default:c((()=>[u(y,{wrap:""},{default:c((()=>[u(n,{type:"primary",onClick:j},{icon:c((()=>[u(i)])),default:c((()=>[s[2]||(s[2]=m("span",null,"新增",-1))])),_:1})])),_:1})])),_:1}),u(w,{ref_key:"GiEditTableRef",ref:k,scroll:{minWidth:1200},columns:f(I),data:f(b),"cell-disabled":z,onTrDblclick:C,onRowDblclick:T},{action:c((({rowIndex:e})=>[u(y,null,{default:c((()=>[e!==f(g)?(o(),v(n,{key:0,type:"primary",size:"mini",onClick:a=>{return t=e,void(g.value=t);var t}},{default:c((()=>s[3]||(s[3]=[p(" 编辑 ")]))),_:2},1032,["onClick"])):(o(),v(n,{key:1,type:"primary",status:"success",size:"mini",onClick:s[0]||(s[0]=e=>{g.value=-1})},{default:c((()=>s[4]||(s[4]=[p("保存")]))),_:1})),u(n,{type:"primary",status:"danger",size:"mini",onClick:a=>{return t=e,void b.value.splice(t,1);var t}},{default:c((()=>s[5]||(s[5]=[p(" 删除 ")]))),_:2},1032,["onClick"])])),_:2},1024)])),_:1},8,["columns","data"]),u(_,{justify:"end",class:"gi_mt"},{default:c((()=>[u(y,{wrap:""},{default:c((()=>[u(n,{onClick:P},{default:c((()=>s[6]||(s[6]=[p("重置")]))),_:1}),u(n,{type:"primary",onClick:R},{default:c((()=>s[7]||(s[7]=[p("验证并提交")]))),_:1})])),_:1})])),_:1}),u(E,{"code-json":f(h)},null,8,["code-json"])])}}});export{w as _};
