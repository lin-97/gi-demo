import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-BCwoOWHD.js";import{_ as t}from"./AddDictModal.vue_vue_type_script_setup_true_lang-WZc_B5oV.js";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang-DzrifacU.js";import{d as l,I as i,V as s,f as n,a as o,o as d,w as r,j as u,h as c,i as p,G as _,t as m,fl as f,J as y}from"./index-CaTNYhxh.js";import{u as g}from"./useTable-DzfxcQ6X.js";import"./dept-BtlGnOEc.js";import"./role-BwDBVdZ2.js";import{u as v}from"./useDict-DE_97KF8.js";import"./regexp-CZKnpGWl.js";import"./useResetReactive-CVrmH7v1.js";import"./AddDictDataModal.vue_vue_type_script_setup_true_lang-BKLwhX-K.js";import"./useBreakpoint-DP2pWxtU.js";import"./index-CWsJrtG_.js";const h=l({name:"SystemRole",__name:"index",setup(l){const{data:h}=v({code:"status"}),k=i("AddDictModalRef"),w=i("DictDataModalRef"),x=s({name:"",status:""}),{loading:j,tableData:D,pagination:C,selectedKeys:S,search:b,select:A,selectAll:V,fixed:M,handleDelete:R}=g(e=>f.getList({...e,...x}),{immediate:!0}),z=()=>{x.name="",x.status="",b()},B=()=>{var e;null==(e=k.value)||e.add()},G=()=>S.value.length?R(()=>f.delete({ids:S.value})):y.warning("请选择字典！");return(l,i)=>{const s=n("icon-search"),y=n("a-input"),g=n("a-select"),v=n("a-button"),I=n("icon-refresh"),O=n("a-space"),T=n("icon-plus"),U=n("icon-delete"),W=n("a-row"),F=n("a-table-column"),H=e,J=n("icon-storage"),K=n("icon-edit"),L=n("a-popconfirm"),q=n("a-table"),E=n("a-card");return d(),o(E,{title:"字典管理",class:"gi_page_card"},{default:r(()=>[u(O,{wrap:""},{default:r(()=>[u(y,{modelValue:c(x).name,"onUpdate:modelValue":i[0]||(i[0]=e=>c(x).name=e),placeholder:"字典类型名称/编码","allow-clear":"",style:{width:"250px"}},{prefix:r(()=>[u(s)]),_:1},8,["modelValue"]),u(g,{modelValue:c(x).status,"onUpdate:modelValue":i[1]||(i[1]=e=>c(x).status=e),options:c(h),placeholder:"状态","allow-clear":"",style:{width:"120px"}},null,8,["modelValue","options"]),u(v,{type:"primary",onClick:c(b)},{icon:r(()=>[u(s)]),default:r(()=>[i[2]||(i[2]=p("span",null,"查询",-1))]),_:1,__:[2]},8,["onClick"]),u(v,{onClick:z},{icon:r(()=>[u(I)]),default:r(()=>[i[3]||(i[3]=p("span",null,"重置",-1))]),_:1,__:[3]})]),_:1}),u(W,null,{default:r(()=>[u(O,{wrap:""},{default:r(()=>[u(v,{type:"primary",onClick:B},{icon:r(()=>[u(T)]),default:r(()=>[i[4]||(i[4]=p("span",null,"新增",-1))]),_:1,__:[4]}),u(v,{type:"primary",status:"danger",onClick:G},{icon:r(()=>[u(U)]),default:r(()=>[i[5]||(i[5]=p("span",null,"删除",-1))]),_:1,__:[5]})]),_:1})]),_:1}),u(q,{class:"gi_table","row-key":"id",data:c(D),bordered:{cell:!0},loading:c(j),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:c(C),"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":c(S),onSelect:c(A),onSelectAll:c(V)},{columns:r(()=>[u(F,{title:"序号",width:64},{cell:r(e=>[_(m(e.rowIndex+1),1)]),_:1}),u(F,{title:"字典名称","data-index":"name"}),u(F,{title:"字典编码","data-index":"code"}),u(F,{title:"状态",width:100,align:"center"},{cell:r(({record:e})=>[u(H,{status:e.status},null,8,["status"])]),_:1}),u(F,{title:"描述","data-index":"description",ellipsis:!0,tooltip:!0}),u(F,{title:"创建时间","data-index":"createTime",width:180}),u(F,{title:"操作",width:280,align:"center",fixed:c(M)},{cell:r(({record:e})=>[u(O,null,{default:r(()=>[u(v,{type:"primary",status:"success",size:"mini",onClick:t=>{return a=e,void(null==(l=w.value)||l.open({code:a.code}));var a,l}},{icon:r(()=>[u(J)]),default:r(()=>[i[6]||(i[6]=p("span",null,"字典数据",-1))]),_:2,__:[6]},1032,["onClick"]),u(v,{type:"primary",size:"mini",onClick:t=>{return a=e,void(null==(l=k.value)||l.edit(a.id));var a,l}},{icon:r(()=>[u(K)]),default:r(()=>[i[7]||(i[7]=p("span",null,"编辑",-1))]),_:2,__:[7]},1032,["onClick"]),u(L,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:t=>{return a=e,R(()=>f.delete({ids:[a.id]}),{showModal:!1});var a}},{default:r(()=>[u(v,{type:"primary",status:"danger",size:"mini"},{icon:r(()=>[u(U)]),default:r(()=>[i[8]||(i[8]=p("span",null,"删除",-1))]),_:1,__:[8]})]),_:2},1032,["onBeforeOk"])]),_:2},1024)]),_:1},8,["fixed"])]),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),u(t,{ref_key:"AddDictModalRef",ref:k,onSaveSuccess:c(b)},null,8,["onSaveSuccess"]),u(a,{ref_key:"DictDataModalRef",ref:w},null,512)]),_:1})}}});export{h as default};
