import{g as e}from"./role-BwDBVdZ2.js";import{g as a}from"./menu-CQbkyTpL.js";import{d as s,I as l,e as t,c as n,f as c,a as o,o as r,h as i,W as u,D as d,w as m,j as f,a6 as k,J as v}from"./index-CaTNYhxh.js";const p=s({__name:"PermModal",setup(s,{expose:p}){const h=l("treeRef"),y=t([]);(async()=>{const e=await a();y.value=e.data,k(()=>{var e;null==(e=h.value)||e.expandAll()})})();const b=n(()=>"分配权限"),_=t(!1),j=t([]),x=()=>{v.success("模拟保存成功")};return p({open:a=>{j.value=[],_.value=!0,e({role:a.code}).then(e=>{j.value=e.data})}}),(e,a)=>{const s=c("a-tree"),l=c("a-modal");return r(),o(l,{visible:i(_),"onUpdate:visible":a[1]||(a[1]=e=>d(_)?_.value=e:null),title:i(b),fullscreen:i(u)(),"mask-closable":!0,onOk:x},{default:m(()=>[f(s,{ref_key:"treeRef",ref:h,"checked-keys":i(j),"onUpdate:checkedKeys":a[0]||(a[0]=e=>d(j)?j.value=e:null),size:"mini",checkable:"","check-strictly":!0,data:i(y),"field-names":{key:"id"}},null,8,["checked-keys","data"])]),_:1},8,["visible","title","fullscreen"])}}});export{p as _};
