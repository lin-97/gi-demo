import{d as a,e,I as s,c as l,Q as o,f as t,a as u,o as i,w as n,A as d,i as v,q as r,h as c,j as p,t as f,ao as x,N as m,_ as g}from"./index-CaTNYhxh.js";import{u as _,f as y,g as h}from"./index-CWsJrtG_.js";const C={style:{padding:"10px 14px 14px 14px"}},S={class:"audio-name"},I=["src"],N=g(a({__name:"ModalContent",props:{data:{},onClose:{}},setup(a){const g=a,N=e(!1),R=s("audioRef"),j=s("audioHeadRef"),k=l(()=>{var a;return(null==(a=g.data)?void 0:a.src)||""});o(()=>{N.value=!0});const{width:w,height:A}=_(),{width:b,height:z}=y(R),D=e({top:40,left:w.value-b.value}),H=JSON.parse(sessionStorage.getItem("AudioDialogXY"));H&&H.top&&H.left&&(D.value.top=H.top,D.value.left=H.left);const{x:J,y:O}=h(R,{initialValue:{x:D.value.left-b.value,y:D.value.top}}),X=l(()=>{let a=J.value,e=O.value;return J.value>w.value-b.value&&(a=w.value-b.value),J.value<0&&(a=0),O.value>A.value-z.value&&(e=A.value-z.value),O.value<0&&(e=0),sessionStorage.setItem("AudioDialogXY",JSON.stringify({top:e,left:a})),{left:`${a}px`,top:`${e}px`}}),Y=()=>{N.value=!1,g.onClose&&g.onClose()};return(a,e)=>{const s=t("icon-music"),l=t("icon-close");return i(),u(m,{name:"slide-dynamic-origin"},{default:n(()=>{var a,e;return[d(v("div",{ref_key:"audioRef",ref:R,class:"audio-box",style:r(c(X))},[v("section",C,[v("div",{ref_key:"audioHeadRef",ref:j,class:"audio-box__header"},[v("div",S,[p(s,{size:16,spin:""}),v("span",null,f(null==(a=g.data)?void 0:a.name)+"."+f(null==(e=g.data)?void 0:e.extendName),1)]),v("div",{class:"close-icon",onClick:Y},[p(l,{size:12})])],512),v("audio",{class:"audio",src:c(k),controls:"",autoplay:""},null,8,I)])],4),[[x,c(N)]])]}),_:1})}}}),[["__scopeId","data-v-ce701310"]]);export{N as default};
