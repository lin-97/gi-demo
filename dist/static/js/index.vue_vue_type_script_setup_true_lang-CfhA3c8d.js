import{O as e,a}from"./regexp-CZKnpGWl.js";import{V as t,e as l,J as n,i as r,eU as o,f as s,d as u,o as m,a as d,w as i,D as p}from"./index-BJbUSEMT.js";import{_ as c}from"./AddUserForm.vue_vue_type_script_setup_true_lang-WBSoFLfu.js";const f=()=>{const u=t({name:"",phone:""}),m=l(null),d={name:[{required:!0,message:"请输入姓名"},{match:e,message:"只能是中文姓名"},{minLength:1,maxLength:4,message:"名字最长不超过4个字符"}],phone:[{required:!0,message:"请输入手机号"},{match:a,message:"手机号格式不正确"}]};n.open({title:"添加用户",content:()=>r(o,{ref:m,model:u,rules:d},{default:()=>[r(o.Item,{label:"用户名",field:"name"},{default:()=>[r(s("a-input"),{modelValue:u.name,"onUpdate:modelValue":e=>u.name=e,placeholder:"请输入用户名","max-length":4,"allow-clear":!0},null)]}),r(o.Item,{label:"手机号",field:"phone"},{default:()=>[r(s("a-input"),{modelValue:u.phone,"onUpdate:modelValue":e=>u.phone=e,placeholder:"请输入手机号","max-length":11,"allow-clear":!0},null)]})]}),okText:"添加",onBeforeOk:async()=>{var e;if(await(null==(e=m.value)?void 0:e.validate()))return!1;try{return await new Promise((e=>setTimeout((()=>{e(!0)}),2e3))),!0}catch(a){return!1}}})},h=u({__name:"index",setup(e){const a=()=>{f()},t=()=>{const e=l(null);n.open({title:"添加用户",content:()=>r(c,{ref:e},null),okText:"添加",onBeforeOk:async()=>{var a;return await(null==(a=e.value)?void 0:a.handleAddUser())}})};return(e,l)=>{const n=s("a-button"),o=s("a-space"),u=s("a-card");return m(),d(u,{title:"函数弹窗",bordered:!1},{default:i((()=>[r(o,null,{default:i((()=>[r(n,{type:"primary",onClick:a},{default:i((()=>l[0]||(l[0]=[p("打开添加用户弹窗(方式1)")]))),_:1}),r(n,{type:"primary",onClick:t},{default:i((()=>l[1]||(l[1]=[p("打开添加用户弹窗(方式2)")]))),_:1})])),_:1})])),_:1})}}});export{h as _};
