import{_ as e}from"./index-DEcomuRO.js";import{_ as a}from"./GiEditTable-gvmUNQJe.js";import t from"./FilterAddress-Ct7IfFWb.js";import{a as s}from"./regexp-CZKnpGWl.js";import{d as l,e as n,c as i,I as r,j as o,f as d,G as u,J as p,g as c,o as m,w as f,h as _,t as v,i as y}from"./index-TfpzvVHF.js";import"./dept-KN3t3dXU.js";import"./role-OoDcevB-.js";import{u as x}from"./useDict-CoYV7zdy.js";const g={class:"gi_padding"},w=l({name:"FormTable",__name:"Pane1",setup(l){const{data:w}=x({code:"status"}),h=n(!1),j=n([{name:"张三",phone:"",address:"广州市",rate:3,status:0,num:0}]),I=i((()=>JSON.stringify(j.value,null,"\t"))),b=r("GiEditTableRef"),C=i((()=>[{type:"input",title:"姓名",dataIndex:"name",required:!0},{type:"input",title:"手机号",dataIndex:"phone",required:!0,rules:[{match:s,message:"手机号格式不正确"}]},{type:"select",title:"状态",dataIndex:"status",props:{options:w.value}},{type:"rate",title:"评分",dataIndex:"rate",columnProps:{width:200}},{type:"input-number",title:"小数",dataIndex:"num",columnProps:{width:120}},{type:"textarea",title:"地址",dataIndex:"address",props:{autoSize:!0,maxLength:200,showWordLimit:!0},columnProps:{width:250,title:()=>o(d("a-space"),null,{default:()=>[o("span",null,[u("地址 ")]),o(t,{onConfirm:e=>{p.success(`点击了确认，查询值为: ${e||"空"}`)}},null)]})}},{type:"",title:"操作",dataIndex:"action",slotName:"action",columnProps:{width:100,align:"center",fixed:"right"},formItemProps:{contentClass:"arco-table-cell-align-center"}}])),k=()=>{j.value.push({name:"",phone:"",address:"",rate:0,status:0,num:0})},P=()=>{var e,a;h.value=!h.value,h.value&&(null==(a=null==(e=b.value)?void 0:e.formRef)||a.clearValidate())},R=()=>{var e,a,t,s;null==(a=null==(e=b.value)?void 0:e.formRef)||a.resetFields(),null==(s=null==(t=b.value)?void 0:t.formRef)||s.clearValidate()},G=async()=>{var e,a;const t=await(null==(a=null==(e=b.value)?void 0:e.formRef)?void 0:a.validate());if(t){const e=Object.values(t);p.warning(e[0].message)}else p.success("验证通过~")},T=({rowIndex:e,col:a})=>!!h.value||"name"===a.dataIndex&&0===e;return(t,s)=>{const l=d("a-button"),n=d("icon-plus"),i=d("a-space"),r=d("a-row"),p=a,x=e;return m(),c("div",g,[o(r,{justify:"end"},{default:f((()=>[o(i,{wrap:""},{default:f((()=>[o(l,{type:"primary",status:_(h)?"success":"warning",onClick:P},{default:f((()=>[u(v(_(h)?"编辑":"只读"),1)])),_:1},8,["status"]),o(l,{type:"primary",onClick:k},{icon:f((()=>[o(n)])),default:f((()=>[s[0]||(s[0]=y("span",null,"新增",-1))])),_:1,__:[0]})])),_:1})])),_:1}),o(p,{ref_key:"GiEditTableRef",ref:b,scroll:{minWidth:1200},columns:_(C),data:_(j),"cell-disabled":T},{action:f((({rowIndex:e})=>[o(i,null,{default:f((()=>[o(l,{type:"primary",status:"danger",size:"mini",disabled:0===e,onClick:a=>{return t=e,void j.value.splice(t,1);var t}},{default:f((()=>s[1]||(s[1]=[u(" 删除 ")]))),_:2,__:[1]},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["columns","data"]),o(r,{justify:"end",class:"gi_mt"},{default:f((()=>[o(i,{wrap:""},{default:f((()=>[o(l,{onClick:R},{default:f((()=>s[2]||(s[2]=[u("重置")]))),_:1,__:[2]}),o(l,{type:"primary",onClick:G},{default:f((()=>s[3]||(s[3]=[u("验证并提交")]))),_:1,__:[3]})])),_:1})])),_:1}),o(x,{"code-json":_(I)},null,8,["code-json"])])}}});export{w as _};
