import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-BCwoOWHD.js";import{_ as a}from"./AddDictDataModal.vue_vue_type_script_setup_true_lang-BKLwhX-K.js";import{d as l,e as t,I as i,f as n,a as s,o,h as d,D as c,w as u,j as r,i as _,G as p,t as m,fn as v,J as f}from"./index-CaTNYhxh.js";import{u as y}from"./useTable-DzfxcQ6X.js";const g=l({__name:"index",setup(l,{expose:g}){const h=t(!1),w=i("AddDictDataModalRef"),k=t(""),{loading:x,tableData:b,pagination:S,selectedKeys:D,search:A,select:C,selectAll:j}=y(e=>v({...e,code:k.value}),{immediate:!1}),z=()=>{if(!D.value.length)return f.warning("请选择字典数据！")},G=()=>{var e;null==(e=w.value)||e.add()};return g({open:e=>{b.value=[],k.value=e.code,h.value=!0,A()}}),(l,t)=>{const i=n("icon-plus"),v=n("a-button"),f=n("icon-delete"),y=n("a-space"),g=n("a-row"),M=n("a-table-column"),I=e,R=n("icon-edit"),W=n("a-popconfirm"),J=n("a-table"),K=n("a-modal");return o(),s(K,{visible:d(h),"onUpdate:visible":t[0]||(t[0]=e=>c(h)?h.value=e:null),title:"字典数据",width:"90%","hide-cancel":"","ok-text":"关闭","mask-closable":!1,"modal-style":{maxWidth:"680px"}},{default:u(()=>[r(g,null,{default:u(()=>[r(y,{wrap:""},{default:u(()=>[r(v,{type:"primary",onClick:G},{icon:u(()=>[r(i)]),default:u(()=>[t[1]||(t[1]=_("span",null,"新增",-1))]),_:1,__:[1]}),r(v,{type:"primary",status:"danger",onClick:z},{icon:u(()=>[r(f)]),default:u(()=>[t[2]||(t[2]=_("span",null,"删除",-1))]),_:1,__:[2]})]),_:1})]),_:1}),r(J,{"row-key":"id",size:"small",data:d(b),bordered:{cell:!0},loading:d(x),scroll:{x:"100%",y:"100%",minWidth:600},pagination:{...d(S),size:"small"},"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":d(D),onSelect:d(C),onSelectAll:d(j)},{columns:u(()=>[r(M,{title:"序号",width:64},{cell:u(e=>[p(m(e.rowIndex+1),1)]),_:1}),r(M,{title:"字典名","data-index":"name"}),r(M,{title:"字典值","data-index":"value"}),r(M,{title:"状态",width:100,align:"center"},{cell:u(({record:e})=>[r(I,{status:e.status},null,8,["status"])]),_:1}),r(M,{title:"操作",width:180,align:"center"},{cell:u(({record:e})=>[r(y,null,{default:u(()=>[r(v,{type:"primary",size:"mini",onClick:a=>{return l=e,void(null==(t=w.value)||t.edit({id:l.id,code:k.value}));var l,t}},{icon:u(()=>[r(R)]),default:u(()=>[t[3]||(t[3]=_("span",null,"编辑",-1))]),_:2,__:[3]},1032,["onClick"]),r(W,{type:"warning",content:"确定删除该角色吗?"},{default:u(()=>[r(v,{type:"primary",status:"danger",size:"mini"},{icon:u(()=>[r(f)]),default:u(()=>[t[4]||(t[4]=_("span",null,"删除",-1))]),_:1,__:[4]})]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),r(a,{ref_key:"AddDictDataModalRef",ref:w,onSaveSuccess:d(A)},null,8,["onSaveSuccess"])]),_:1},8,["visible"])}}});export{g as _};
