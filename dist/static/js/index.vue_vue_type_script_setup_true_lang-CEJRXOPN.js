import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang--UqCNK-c.js";import{_ as a}from"./AddDictDataModal.vue_vue_type_script_setup_true_lang-j5363RzC.js";import{d as l,e as t,I as i,f as n,o as s,a as o,w as d,i as c,j as u,h as r,D as p,t as _,E as m,M as v,fm as f}from"./index-BmBlMBxW.js";import{u as y}from"./useTable-BUX0PTQS.js";const g=l({__name:"index",setup(l,{expose:g}){const h=t(!1),w=i("AddDictDataModalRef"),k=t(""),{loading:x,tableData:b,pagination:S,selectedKeys:D,search:A,select:C,selectAll:j}=y((e=>f({...e,code:k.value})),{immediate:!1}),z=()=>{if(!D.value.length)return v.warning("请选择字典数据！")},M=()=>{var e;null==(e=w.value)||e.add()};return g({open:e=>{b.value=[],k.value=e.code,h.value=!0,A()}}),(l,t)=>{const i=n("icon-plus"),v=n("a-button"),f=n("icon-delete"),y=n("a-space"),g=n("a-row"),I=n("a-table-column"),R=e,W=n("icon-edit"),E=n("a-popconfirm"),F=n("a-table"),G=n("a-modal");return s(),o(G,{visible:r(h),"onUpdate:visible":t[0]||(t[0]=e=>m(h)?h.value=e:null),title:"字典数据",width:"90%","hide-cancel":"","ok-text":"关闭","mask-closable":!1,"modal-style":{maxWidth:"680px"}},{default:d((()=>[c(g,null,{default:d((()=>[c(y,{wrap:""},{default:d((()=>[c(v,{type:"primary",onClick:M},{icon:d((()=>[c(i)])),default:d((()=>[t[1]||(t[1]=u("span",null,"新增",-1))])),_:1}),c(v,{type:"primary",status:"danger",onClick:z},{icon:d((()=>[c(f)])),default:d((()=>[t[2]||(t[2]=u("span",null,"删除",-1))])),_:1})])),_:1})])),_:1}),c(F,{"row-key":"id",size:"small",data:r(b),bordered:{cell:!0},loading:r(x),scroll:{x:"100%",y:"100%",minWidth:600},pagination:{...r(S),size:"small"},"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":r(D),onSelect:r(C),onSelectAll:r(j)},{columns:d((()=>[c(I,{title:"序号",width:64},{cell:d((e=>[p(_(e.rowIndex+1),1)])),_:1}),c(I,{title:"字典名","data-index":"name"}),c(I,{title:"字典值","data-index":"value"}),c(I,{title:"状态",width:100,align:"center"},{cell:d((({record:e})=>[c(R,{status:e.status},null,8,["status"])])),_:1}),c(I,{title:"操作",width:180,align:"center"},{cell:d((({record:e})=>[c(y,null,{default:d((()=>[c(v,{type:"primary",size:"mini",onClick:a=>{return l=e,void(null==(t=w.value)||t.edit({id:l.id,code:k.value}));var l,t}},{icon:d((()=>[c(W)])),default:d((()=>[t[3]||(t[3]=u("span",null,"编辑",-1))])),_:2},1032,["onClick"]),c(E,{type:"warning",content:"确定删除该角色吗?"},{default:d((()=>[c(v,{type:"primary",status:"danger",size:"mini"},{icon:d((()=>[c(f)])),default:d((()=>[t[4]||(t[4]=u("span",null,"删除",-1))])),_:1})])),_:1})])),_:2},1024)])),_:1})])),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),c(a,{ref_key:"AddDictDataModalRef",ref:w,onSaveSuccess:r(A)},null,8,["onSaveSuccess"])])),_:1},8,["visible"])}}});export{g as _};
