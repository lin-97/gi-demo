import{a as e,_ as a}from"./index.vue_vue_type_script_setup_true_lang-CSYhvEkr.js";import l from"./index-DxvJb8Op.js";import{e as s,d as t,H as o,L as r,V as i,I as n,g as u,j as d,w as m,f as _,s as c,o as p,i as f,h as g,W as v,D as w,G as y,J as x,_ as h}from"./index-TfpzvVHF.js";import{P as V}from"./regexp-CZKnpGWl.js";import"./index-5-TD8lPC.js";import"./CornerTop.vue_vue_type_script_setup_true_lang-Cea3J609.js";import"./CornerBottom.vue_vue_type_script_setup_true_lang-COTmpZD6.js";const j={class:"login"},b={class:"login-right"},k=h(t({name:"Login",__name:"index",setup(t){const h=c(),k=o(),z=r(),q=i({username:"admin",password:"123456"}),L={username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"},{match:V,message:"输入密码格式不正确"}]},C=s(!1),{loading:R,setLoading:S}=function(e=!1){const a=s(e);return{loading:a,setLoading:e=>{a.value=e},toggle:()=>{a.value=!a.value}}}(),U=s(""),W=n("formRef"),A=async()=>{var e;try{if(await(null==(e=W.value)?void 0:e.validate()))return;S(!0),await k.login(q),z.reset();const{redirect:a,...l}=h.currentRoute.value.query;h.push({path:a||"/",query:{...l}}),x.success("登录成功")}catch(a){U.value=a.message}finally{S(!1)}};return(s,t)=>{const o=_("a-col"),r=_("icon-user"),i=_("a-input"),n=_("a-form-item"),c=_("icon-lock"),x=_("a-input-password"),h=_("a-checkbox"),V=_("a-link"),k=_("a-row"),z=_("a-button"),S=_("a-space"),U=_("a-form"),B=e;return p(),u("div",j,[d(k,{align:"stretch",class:"login-box"},{default:m((()=>[d(o,{xs:0,sm:12,md:15},{default:m((()=>t[3]||(t[3]=[f("div",{class:"login-left"},[f("img",{class:"login-left__img",src:"/gi-demo/static/svg/login-img-BnXpmWAf.svg"})],-1)]))),_:1,__:[3]}),d(o,{xs:24,sm:12,md:9},{default:m((()=>[f("div",b,[d(U,{ref_key:"formRef",ref:W,size:g(v)()?"large":"medium",model:g(q),rules:L,style:{width:"84%"},"label-col-style":{display:"none"},"wrapper-col-style":{flex:1}},{default:m((()=>[t[8]||(t[8]=f("h3",{class:"login-right__title"},[f("img",{class:"logo",src:a}),f("span",null,"Admin Pro")],-1)),d(n,{field:"username"},{default:m((()=>[d(i,{modelValue:g(q).username,"onUpdate:modelValue":t[0]||(t[0]=e=>g(q).username=e),placeholder:"账号 admin/user","allow-clear":""},{prefix:m((()=>[d(r,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),d(n,{field:"password"},{default:m((()=>[d(x,{modelValue:g(q).password,"onUpdate:modelValue":t[1]||(t[1]=e=>g(q).password=e),placeholder:"密码","allow-clear":""},{prefix:m((()=>[d(c,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),d(n,null,{default:m((()=>[d(k,{justify:"space-between",align:"center",class:"w-full"},{default:m((()=>[d(h,{modelValue:g(C),"onUpdate:modelValue":t[2]||(t[2]=e=>w(C)?C.value=e:null)},{default:m((()=>t[4]||(t[4]=[y("记住密码")]))),_:1,__:[4]},8,["modelValue"]),d(V,null,{default:m((()=>t[5]||(t[5]=[y("忘记密码")]))),_:1,__:[5]})])),_:1})])),_:1}),d(n,null,{default:m((()=>[d(S,{direction:"vertical",fill:"",class:"w-full"},{default:m((()=>[d(z,{type:"primary",size:"large",long:"",loading:g(R),onClick:A},{default:m((()=>t[6]||(t[6]=[y("登录")]))),_:1,__:[6]},8,["loading"]),d(z,{type:"text",size:"large",long:"",class:"register-btn"},{default:m((()=>t[7]||(t[7]=[y("注册账号")]))),_:1,__:[7]})])),_:1})])),_:1})])),_:1,__:[8]},8,["size","model"])])])),_:1})])),_:1}),d(B,{class:"theme-btn"}),d(l)])}}}),[["__scopeId","data-v-95d9bcdc"]]);export{k as default};
