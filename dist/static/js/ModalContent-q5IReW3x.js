import{d as a,e,H as s,c as l,a2 as o,f as t,o as u,a as i,w as n,z as d,j as v,s as r,h as c,i as p,t as f,aj as x,L as m,_ as g}from"./index-pvGzmBmd.js";import{u as _,f as y,g as h}from"./index-CkFSidrF.js";const C={style:{padding:"10px 14px 14px 14px"}},j={class:"audio-name"},R=["src"],S=g(a({__name:"ModalContent",props:{data:{},onClose:{}},setup(a){const g=a,S=e(!1),k=s("audioRef"),w=s("audioHeadRef"),z=l((()=>{var a;return(null==(a=g.data)?void 0:a.src)||""}));o((()=>{S.value=!0}));const{width:H,height:I}=_(),{width:N,height:b}=y(k),A=e({top:40,left:H.value-N.value}),D=JSON.parse(sessionStorage.getItem("AudioDialogXY"));D&&D.top&&D.left&&(A.value.top=D.top,A.value.left=D.left);const{x:J,y:O}=h(k,{initialValue:{x:A.value.left-N.value,y:A.value.top}}),V=l((()=>{let a=J.value,e=O.value;return J.value>H.value-N.value&&(a=H.value-N.value),J.value<0&&(a=0),O.value>I.value-b.value&&(e=I.value-b.value),O.value<0&&(e=0),sessionStorage.setItem("AudioDialogXY",JSON.stringify({top:e,left:a})),{left:`${a}px`,top:`${e}px`}})),X=()=>{S.value=!1,g.onClose&&g.onClose()};return(a,e)=>{const s=t("icon-music"),l=t("icon-close");return u(),i(m,{name:"slide-dynamic-origin"},{default:n((()=>{var a,e;return[d(v("div",{ref_key:"audioRef",ref:k,class:"audio-box",style:r(c(V))},[v("section",C,[v("div",{ref_key:"audioHeadRef",ref:w,class:"audio-box__header"},[v("div",j,[p(s,{size:16,spin:""}),v("span",null,f(null==(a=g.data)?void 0:a.name)+"."+f(null==(e=g.data)?void 0:e.extendName),1)]),v("div",{class:"close-icon",onClick:X},[p(l,{size:12})])],512),v("audio",{class:"audio",src:c(z),controls:"",autoplay:""},null,8,R)])],4),[[x,c(S)]])]})),_:1})}}}),[["__scopeId","data-v-ce701310"]]);export{S as default};
