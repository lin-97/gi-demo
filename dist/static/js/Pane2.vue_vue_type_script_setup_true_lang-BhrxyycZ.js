import{_ as e}from"./index-DYjg1Rxd.js";import{_ as a}from"./GiEditTable-Bxxu8wp5.js";import{a as t}from"./regexp-CZKnpGWl.js";import{d as s,e as l,c as i,I as n,f as r,g as o,o as d,j as u,w as c,G as p,i as m,h as _,a as f,J as v}from"./index-CaTNYhxh.js";import"./dept-BtlGnOEc.js";import"./role-BwDBVdZ2.js";import{u as y}from"./useDict-DE_97KF8.js";const x={class:"gi_padding"},w=s({name:"FormTable",__name:"Pane2",setup(s){const{data:w}=y({code:"status"}),g=l(-1),h=l([{name:"张三",phone:"",address:"广州市",rate:3,status:0,num:0}]),b=i(()=>JSON.stringify(h.value,null,"\t")),j=n("GiEditTableRef"),k=i(()=>[{type:"input",title:"姓名",dataIndex:"name",required:!0},{type:"input",title:"手机号",dataIndex:"phone",required:!0,rules:[{match:t,message:"手机号格式不正确"}]},{type:"select",title:"状态",dataIndex:"status",props:{options:w.value}},{type:"rate",title:"评分",dataIndex:"rate",columnProps:{width:200}},{type:"input-number",title:"小数",dataIndex:"num",columnProps:{width:120}},{type:"textarea",title:"地址",dataIndex:"address",props:{autoSize:!0,maxLength:200,showWordLimit:!0},columnProps:{width:250}},{type:"",title:"操作",dataIndex:"action",slotName:"action",columnProps:{width:140,align:"center",fixed:"right"},formItemProps:{contentClass:"arco-table-cell-align-center"}}]),I=()=>{h.value.push({name:"",phone:"",address:"",rate:0,status:0,num:0})},C=e=>{g.value=e.rowIndex,v.success("GiEditTable自定义的双击事件，参数有rowIndex")},T=()=>{v.info("Arco表格原生自带双击事件")},G=()=>{var e,a,t,s;null==(a=null==(e=j.value)?void 0:e.formRef)||a.resetFields(),null==(s=null==(t=j.value)?void 0:t.formRef)||s.clearValidate()},P=async()=>{var e,a;const t=await(null==(a=null==(e=j.value)?void 0:e.formRef)?void 0:a.validate());if(t){const e=Object.values(t);return void v.warning(e[0].message)}v.success("验证通过~")},R=({rowIndex:e})=>g.value!==e;return(t,s)=>{const l=r("a-alert"),i=r("icon-plus"),n=r("a-button"),v=r("a-space"),y=r("a-row"),w=a,E=e;return d(),o("div",x,[u(l,null,{default:c(()=>s[1]||(s[1]=[p("此示例基于GiEditTable实现了行编辑，以及行双击编辑",-1)])),_:1,__:[1]}),u(y,{class:"gi_mt",justify:"end"},{default:c(()=>[u(v,{wrap:""},{default:c(()=>[u(n,{type:"primary",onClick:I},{icon:c(()=>[u(i)]),default:c(()=>[s[2]||(s[2]=m("span",null,"新增",-1))]),_:1,__:[2]})]),_:1})]),_:1}),u(w,{ref_key:"GiEditTableRef",ref:j,scroll:{minWidth:1200},columns:_(k),data:_(h),"cell-disabled":R,onTrDblclick:C,onRowDblclick:T},{action:c(({rowIndex:e})=>[u(v,null,{default:c(()=>[e!==_(g)?(d(),f(n,{key:0,type:"primary",size:"mini",onClick:a=>{return t=e,void(g.value=t);var t}},{default:c(()=>s[3]||(s[3]=[p(" 编辑 ",-1)])),_:2,__:[3]},1032,["onClick"])):(d(),f(n,{key:1,type:"primary",status:"success",size:"mini",onClick:s[0]||(s[0]=e=>{g.value=-1})},{default:c(()=>s[4]||(s[4]=[p("保存",-1)])),_:1,__:[4]})),u(n,{type:"primary",status:"danger",size:"mini",onClick:a=>{return t=e,void h.value.splice(t,1);var t}},{default:c(()=>s[5]||(s[5]=[p(" 删除 ",-1)])),_:2,__:[5]},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns","data"]),u(y,{justify:"end",class:"gi_mt"},{default:c(()=>[u(v,{wrap:""},{default:c(()=>[u(n,{onClick:G},{default:c(()=>s[6]||(s[6]=[p("重置",-1)])),_:1,__:[6]}),u(n,{type:"primary",onClick:P},{default:c(()=>s[7]||(s[7]=[p("验证并提交",-1)])),_:1,__:[7]})]),_:1})]),_:1}),u(E,{"code-json":_(b)},null,8,["code-json"])])}}});export{w as _};
