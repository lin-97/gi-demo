import{_ as e}from"./index-CJRDL1yc.js";import{_ as a}from"./GiEditTable.vue_vue_type_script_setup_true_lang-CzBWCmk-.js";import{a as t}from"./regexp-CZKnpGWl.js";import{d as s,e as l,c as i,I as n,f as r,o,g as d,i as u,w as c,D as p,j as m,h as f,a as _,M as v,_ as y}from"./index-D1TUixoq.js";import{u as x}from"./useDict-BoDQ4fc0.js";const w={class:"pane"},b=y(s({name:"FormTable",__name:"Pane2",setup(s){const{data:y}=x({code:"status"}),b=l(-1),g=l([{name:"张三",phone:"",address:"广州市",rate:3,status:0,num:0}]),h=i((()=>JSON.stringify(g.value,null,"\t"))),I=n("GiEditTableRef"),k=i((()=>[{type:"input",title:"姓名",dataIndex:"name",required:!0},{type:"input",title:"手机号",dataIndex:"phone",required:!0,rules:[{match:t,message:"手机号格式不正确"}]},{type:"select",title:"状态",dataIndex:"status",props:{options:y.value}},{type:"rate",title:"评分",dataIndex:"rate",columnProps:{width:200}},{type:"input-number",title:"小数",dataIndex:"num",columnProps:{width:120}},{type:"textarea",title:"地址",dataIndex:"address",props:{autoSize:!0,maxLength:200,showWordLimit:!0},columnProps:{width:250}},{type:"",title:"操作",dataIndex:"action",slotName:"action",columnProps:{width:140,align:"center",fixed:"right"},formItemProps:{contentClass:"arco-table-cell-align-center"}}])),j=()=>{g.value.push({name:"",phone:"",address:"",rate:0,status:0,num:0})},C=e=>{b.value=e.rowIndex,v.success("GiEditTable自定义的双击事件，参数有rowIndex")},T=()=>{v.info("Arco表格原生自带双击事件")},P=()=>{var e,a,t,s;null==(a=null==(e=I.value)?void 0:e.formRef)||a.resetFields(),null==(s=null==(t=I.value)?void 0:t.formRef)||s.clearValidate()},R=async()=>{var e,a;const t=await(null==(a=null==(e=I.value)?void 0:e.formRef)?void 0:a.validate());if(t){const e=Object.values(t);v.warning(e[0].message)}else v.success("验证通过~")},E=({rowIndex:e})=>b.value!==e;return(t,s)=>{const l=r("a-alert"),i=r("icon-plus"),n=r("a-button"),v=r("a-space"),y=r("a-row"),x=a,G=e;return o(),d("div",w,[u(l,null,{default:c((()=>s[1]||(s[1]=[p("此示例基于GiEditTable实现了行编辑，以及行双击编辑")]))),_:1}),u(y,{class:"gi_mt",justify:"end"},{default:c((()=>[u(v,{wrap:""},{default:c((()=>[u(n,{type:"primary",onClick:j},{icon:c((()=>[u(i)])),default:c((()=>[s[2]||(s[2]=m("span",null,"新增",-1))])),_:1})])),_:1})])),_:1}),u(x,{ref_key:"GiEditTableRef",ref:I,scroll:{minWidth:1200},columns:f(k),data:f(g),"cell-disabled":E,onTrDblclick:C,onRowDblclick:T},{action:c((({rowIndex:e})=>[u(v,null,{default:c((()=>[e!==f(b)?(o(),_(n,{key:0,type:"primary",size:"mini",onClick:a=>{return t=e,void(b.value=t);var t}},{default:c((()=>s[3]||(s[3]=[p(" 编辑 ")]))),_:2},1032,["onClick"])):(o(),_(n,{key:1,type:"primary",status:"success",size:"mini",onClick:s[0]||(s[0]=e=>{b.value=-1})},{default:c((()=>s[4]||(s[4]=[p("保存")]))),_:1})),u(n,{type:"primary",status:"danger",size:"mini",onClick:a=>{return t=e,void g.value.splice(t,1);var t}},{default:c((()=>s[5]||(s[5]=[p(" 删除 ")]))),_:2},1032,["onClick"])])),_:2},1024)])),_:1},8,["columns","data"]),u(y,{justify:"end",class:"gi_mt"},{default:c((()=>[u(v,{wrap:""},{default:c((()=>[u(n,{onClick:P},{default:c((()=>s[6]||(s[6]=[p("重置")]))),_:1}),u(n,{type:"primary",onClick:R},{default:c((()=>s[7]||(s[7]=[p("验证并提交")]))),_:1})])),_:1})])),_:1}),u(G,{"code-json":f(h)},null,8,["code-json"])])}}}),[["__scopeId","data-v-a246d5b7"]]);export{b as default};
