import{_ as X}from"./index-BBlithI6.js";import{_ as Y}from"./index-CvoFbfcn.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang-C85DDMn8.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-Cean0Ywv.js";import{b as C}from"./menu-CmcW6dhT.js";import{dm as te,i as ne}from"./index-Baw_ZB-J.js";import{u as oe}from"./useTable-DmLxrJMz.js";import"./dept-Cd_m9gSh.js";import{u as le}from"./useDict-CziTOSbQ.js";import"./role-Sw_QTReL.js";import{_ as ae}from"./AddMenuModal.vue_vue_type_script_setup_true_lang-DOnK8mmR.js";import{e as ie,ac as h,a as se,r as de,h as a,j as i,k as l,l as n,t,a1 as s,y as m,z as b,p as u,n as me,F as _e,O as ce}from"./vue-_iYK9Zi6.js";import"./index-BPv1vC5v.js";import"./index-K-cFMhdn.js";import"./arco-CDZlpuCh.js";import"./useBreakpoint-DAFsyWcD.js";import"./index-DrLCwZCT.js";import"./useResetReactive-vsY4HHJG.js";const Se=ie({name:"SystemMenu",__name:"index",setup(pe){const{data:R}=le({code:"status"}),y=h("AddMenuModalRef"),v=h("tableRef"),r=se(!1),V=()=>{r.value=!r.value,v.value?.expandAll(r.value)},c=de({name:"",status:""}),{loading:D,tableData:g,search:k,fixed:I,handleDelete:M}=oe(()=>C.getList({...c}),{immediate:!0}),S=()=>{c.name="",c.status="",k()},A=()=>{y.value?.add()},B=f=>{y.value?.edit(f.id)},E=f=>M(()=>C.delete({ids:[f.id]}),{showModal:!1});return(f,o)=>{const p=ee,N=a("icon-list"),$=a("icon-mind-mapping"),x=a("a-button"),z=a("a-tooltip"),G=Z,w=a("a-space"),O=a("a-select"),P=a("a-input"),T=a("a-input-group"),L=a("a-row"),j=a("IconDown"),F=a("IconRight"),d=a("a-table-column"),_=a("a-tag"),U=Y,q=a("a-switch"),J=a("icon-plus"),W=a("a-popconfirm"),H=a("a-table"),K=X;return l(),i(K,{margin:""},{default:n(()=>[t(L,{justify:"space-between"},{default:n(()=>[t(w,{wrap:""},{default:n(()=>[t(p,{type:"add",onClick:A}),t(z,{content:"展开/折叠"},{default:n(()=>[t(x,{type:"primary",status:"success",onClick:V},{icon:n(()=>[s(r)?(l(),i($,{key:1})):(l(),i(N,{key:0}))]),_:1})]),_:1}),t(z,{content:"查看数据结构"},{default:n(()=>[t(G,{code:JSON.stringify(s(g),null,"	")},null,8,["code"])]),_:1})]),_:1}),t(w,{wrap:""},{default:n(()=>[t(T,null,{default:n(()=>[t(O,{modelValue:s(c).status,"onUpdate:modelValue":o[0]||(o[0]=e=>s(c).status=e),options:s(R),placeholder:"菜单状态",style:{width:"120px"}},null,8,["modelValue","options"]),t(P,{modelValue:s(c).name,"onUpdate:modelValue":o[1]||(o[1]=e=>s(c).name=e),placeholder:"输入菜单名称搜索","allow-clear":"",style:{width:"250px"}},null,8,["modelValue"])]),_:1}),t(p,{type:"search",onClick:s(k)},null,8,["onClick"]),t(p,{type:"reset",onClick:S})]),_:1})]),_:1}),t(H,{ref_key:"tableRef",ref:v,class:"gi_table","row-key":"id",data:s(g),loading:s(D),bordered:{cell:!0},scroll:{x:"100%",y:"100%",minWidth:1700},pagination:!1,size:"mini"},{"expand-icon":n(({expanded:e})=>[e?(l(),i(j,{key:0})):(l(),i(F,{key:1}))]),columns:n(()=>[t(d,{title:"菜单名称"},{cell:n(({record:e})=>[m(b(e.title||""),1)]),_:1}),t(d,{title:"类型",width:80,align:"center"},{cell:n(({record:e})=>[e.type===1?(l(),i(_,{key:0,size:"small",color:"orangered"},{default:n(()=>o[2]||(o[2]=[m("目录",-1)])),_:1,__:[2]})):u("",!0),e.type===2?(l(),i(_,{key:1,size:"small",color:"green"},{default:n(()=>o[3]||(o[3]=[m("菜单",-1)])),_:1,__:[3]})):u("",!0),e.type===3?(l(),i(_,{key:2,size:"small"},{default:n(()=>o[4]||(o[4]=[m("按钮",-1)])),_:1,__:[4]})):u("",!0)]),_:1}),t(d,{title:"排序",width:80,align:"center"},{cell:n(({record:e})=>[m(b(e.sort||0),1)]),_:1}),t(d,{title:"路由路径","data-index":"path"}),t(d,{title:"路由名称"},{cell:n(({record:e})=>[m(b(s(te)(e.path)),1)]),_:1}),t(d,{title:"组件路径","data-index":"component"}),t(d,{title:"权限标识","data-index":"permission"}),t(d,{title:"菜单图标","data-index":"icon",width:100,align:"center"},{cell:n(({record:e})=>[e.svgIcon?(l(),i(U,{key:0,size:24,name:e.svgIcon},null,8,["name"])):(l(),me(_e,{key:1},[e.icon?(l(),i(ce(e.icon),{key:0,size:24})):u("",!0)],64))]),_:1}),t(d,{title:"状态",width:80,align:"center"},{cell:n(({record:e})=>[t(q,{type:"round",size:"small","model-value":e.status,"checked-value":1,"unchecked-value":0},null,8,["model-value"])]),_:1}),t(d,{title:"是否缓存",width:100,align:"center"},{cell:n(({record:e})=>[e.keepAlive?(l(),i(_,{key:0,size:"small",color:"green"},{default:n(()=>o[5]||(o[5]=[m("是",-1)])),_:1,__:[5]})):(l(),i(_,{key:1,size:"small",color:"red"},{default:n(()=>o[6]||(o[6]=[m("否",-1)])),_:1,__:[6]}))]),_:1}),t(d,{title:"是否隐藏",width:100,align:"center"},{cell:n(({record:e})=>[e.hidden?(l(),i(_,{key:0,size:"small",color:"green"},{default:n(()=>o[7]||(o[7]=[m("是",-1)])),_:1,__:[7]})):(l(),i(_,{key:1,size:"small",color:"red"},{default:n(()=>o[8]||(o[8]=[m("否",-1)])),_:1,__:[8]}))]),_:1}),t(d,{title:"是否外链",width:100,align:"center"},{cell:n(({record:e})=>[s(ne)(e.path)?(l(),i(_,{key:0,size:"small",color:"green"},{default:n(()=>o[9]||(o[9]=[m("是",-1)])),_:1,__:[9]})):(l(),i(_,{key:1,size:"small",color:"red"},{default:n(()=>o[10]||(o[10]=[m("否",-1)])),_:1,__:[10]}))]),_:1}),t(d,{title:"操作",width:200,align:"left",fixed:s(I)},{cell:n(({record:e})=>[t(w,null,{default:n(()=>[t(p,{type:"edit",size:"mini",disabled:e.disabled,onClick:Q=>B(e)},null,8,["disabled","onClick"]),[1,2].includes(e.type)?(l(),i(x,{key:0,type:"primary",status:"success",size:"mini"},{icon:n(()=>[t(J)]),_:1})):u("",!0),t(W,{type:"warning",content:"您确定要删除该项吗?",onBeforeOk:Q=>E(e)},{default:n(()=>[t(p,{type:"delete",size:"mini",disabled:e.disabled},null,8,["disabled"])]),_:2},1032,["onBeforeOk"])]),_:2},1024)]),_:1},8,["fixed"])]),_:1},8,["data","loading"]),t(ae,{ref_key:"AddMenuModalRef",ref:y,menus:s(g),onSaveSuccess:s(k)},null,8,["menus","onSaveSuccess"])]),_:1})}}});export{Se as default};
