import{_ as te}from"./index-3av5scz5.js";import{_ as ne}from"./index-Dh4v2jxe.js";import{b as V}from"./menu-Dw_7DqY0.js";import{_ as oe}from"./index-DVUDzxhH.js";import{dm as le,i as ae}from"./index-nN1PoSln.js";import{u as ie}from"./useTable-DZeM0WUV.js";import"./dept-GYyz1j5K.js";import{u as se}from"./useDict-CBcDm_sa.js";import"./role-ikVY_VFV.js";import{_ as _e}from"./AddMenuModal.vue_vue_type_script_setup_true_lang-lNdxP8Ux.js";import{ad as me}from"./arco-Buj77_8l.js";import{e as pe,ac as D,a as re,r as de,h as l,j as i,k as a,l as e,t,m as y,a1 as s,y as m,z as x,p as c,n as ce,F as ue,O as fe,X as ye}from"./vue-sr_Z8kjA.js";/* empty css                                                              */import"./useBreakpoint-D2cRTq41.js";import"./index-Dru6jS8c.js";import"./index-B5n7MAQU.js";import"./useResetReactive-CIFZZO4u.js";const Oe=pe({name:"SystemMenu",__name:"index",setup(ge){const{data:R}=se({code:"status"}),g=D("AddMenuModalRef"),z=D("tableRef"),u=re(!1),I=()=>{u.value=!u.value,z.value?.expandAll(u.value)},d=de({name:"",status:""}),{loading:M,tableData:k,search:w,fixed:S,handleDelete:A}=ie(()=>V.getList({...d}),{immediate:!0}),B=()=>{d.name="",d.status="",w()},N=()=>{g.value?.add()},E=f=>{g.value?.edit(f.id)},O=f=>A(()=>V.delete({ids:[f.id]}),{showModal:!1}),P=()=>{me.open({title:"数据结构",content:()=>ye(oe,{codeJson:JSON.stringify(k.value,null,"	")}),width:560})};return(f,n)=>{const b=l("icon-plus"),r=l("a-button"),T=l("icon-list"),$=l("icon-mind-mapping"),C=l("a-tooltip"),L=l("icon-code"),v=l("a-space"),h=l("a-select"),j=l("a-input"),F=l("a-input-group"),G=l("icon-search"),J=l("a-row"),U=l("IconDown"),q=l("IconRight"),_=l("a-table-column"),p=l("a-tag"),W=ne,X=l("a-switch"),H=l("icon-edit"),K=l("icon-delete"),Q=l("a-popconfirm"),Y=l("a-table"),Z=te;return a(),i(Z,{margin:""},{default:e(()=>[t(J,{justify:"space-between"},{default:e(()=>[t(v,{wrap:""},{default:e(()=>[t(r,{type:"primary",onClick:N},{icon:e(()=>[t(b)]),default:e(()=>[n[2]||(n[2]=y("span",null,"新增",-1))]),_:1,__:[2]}),t(C,{content:"展开/折叠"},{default:e(()=>[t(r,{type:"primary",status:"success",onClick:I},{icon:e(()=>[s(u)?(a(),i($,{key:1})):(a(),i(T,{key:0}))]),_:1})]),_:1}),t(C,{content:"查看数据结构"},{default:e(()=>[t(r,{type:"primary",status:"warning",onClick:P},{icon:e(()=>[t(L)]),_:1})]),_:1})]),_:1}),t(v,{wrap:""},{default:e(()=>[t(F,null,{default:e(()=>[t(h,{modelValue:s(d).status,"onUpdate:modelValue":n[0]||(n[0]=o=>s(d).status=o),options:s(R),placeholder:"菜单状态",style:{width:"120px"}},null,8,["modelValue","options"]),t(j,{modelValue:s(d).name,"onUpdate:modelValue":n[1]||(n[1]=o=>s(d).name=o),placeholder:"输入菜单名称搜索","allow-clear":"",style:{width:"250px"}},null,8,["modelValue"])]),_:1}),t(r,{type:"primary",onClick:s(w)},{icon:e(()=>[t(G)]),default:e(()=>[n[3]||(n[3]=y("span",null,"搜索",-1))]),_:1,__:[3]},8,["onClick"]),t(r,{onClick:B},{default:e(()=>n[4]||(n[4]=[m("重置",-1)])),_:1,__:[4]})]),_:1})]),_:1}),t(Y,{ref_key:"tableRef",ref:z,class:"gi_table","row-key":"id",data:s(k),loading:s(M),bordered:{cell:!0},scroll:{x:"100%",y:"100%",minWidth:1700},pagination:!1,size:"mini"},{"expand-icon":e(({expanded:o})=>[o?(a(),i(U,{key:0})):(a(),i(q,{key:1}))]),columns:e(()=>[t(_,{title:"菜单名称"},{cell:e(({record:o})=>[m(x(o.title||""),1)]),_:1}),t(_,{title:"类型",width:80,align:"center"},{cell:e(({record:o})=>[o.type===1?(a(),i(p,{key:0,size:"small",color:"orangered"},{default:e(()=>n[5]||(n[5]=[m("目录",-1)])),_:1,__:[5]})):c("",!0),o.type===2?(a(),i(p,{key:1,size:"small",color:"green"},{default:e(()=>n[6]||(n[6]=[m("菜单",-1)])),_:1,__:[6]})):c("",!0),o.type===3?(a(),i(p,{key:2,size:"small"},{default:e(()=>n[7]||(n[7]=[m("按钮",-1)])),_:1,__:[7]})):c("",!0)]),_:1}),t(_,{title:"排序",width:80,align:"center"},{cell:e(({record:o})=>[m(x(o.sort||0),1)]),_:1}),t(_,{title:"路由路径","data-index":"path"}),t(_,{title:"路由名称"},{cell:e(({record:o})=>[m(x(s(le)(o.path)),1)]),_:1}),t(_,{title:"组件路径","data-index":"component"}),t(_,{title:"权限标识","data-index":"permission"}),t(_,{title:"菜单图标","data-index":"icon",width:100,align:"center"},{cell:e(({record:o})=>[o.svgIcon?(a(),i(W,{key:0,size:24,name:o.svgIcon},null,8,["name"])):(a(),ce(ue,{key:1},[o.icon?(a(),i(fe(o.icon),{key:0,size:24})):c("",!0)],64))]),_:1}),t(_,{title:"状态",width:80,align:"center"},{cell:e(({record:o})=>[t(X,{type:"round",size:"small","model-value":o.status,"checked-value":1,"unchecked-value":0},null,8,["model-value"])]),_:1}),t(_,{title:"是否缓存",width:100,align:"center"},{cell:e(({record:o})=>[o.keepAlive?(a(),i(p,{key:0,size:"small",color:"green"},{default:e(()=>n[8]||(n[8]=[m("是",-1)])),_:1,__:[8]})):(a(),i(p,{key:1,size:"small",color:"red"},{default:e(()=>n[9]||(n[9]=[m("否",-1)])),_:1,__:[9]}))]),_:1}),t(_,{title:"是否隐藏",width:100,align:"center"},{cell:e(({record:o})=>[o.hidden?(a(),i(p,{key:0,size:"small",color:"green"},{default:e(()=>n[10]||(n[10]=[m("是",-1)])),_:1,__:[10]})):(a(),i(p,{key:1,size:"small",color:"red"},{default:e(()=>n[11]||(n[11]=[m("否",-1)])),_:1,__:[11]}))]),_:1}),t(_,{title:"是否外链",width:100,align:"center"},{cell:e(({record:o})=>[s(ae)(o.path)?(a(),i(p,{key:0,size:"small",color:"green"},{default:e(()=>n[12]||(n[12]=[m("是",-1)])),_:1,__:[12]})):(a(),i(p,{key:1,size:"small",color:"red"},{default:e(()=>n[13]||(n[13]=[m("否",-1)])),_:1,__:[13]}))]),_:1}),t(_,{title:"操作",width:200,align:"left",fixed:s(S)},{cell:e(({record:o})=>[t(v,null,{default:e(()=>[t(r,{type:"primary",size:"mini",onClick:ee=>E(o)},{icon:e(()=>[t(H)]),default:e(()=>[n[14]||(n[14]=y("span",null,"编辑",-1))]),_:2,__:[14]},1032,["onClick"]),[1,2].includes(o.type)?(a(),i(r,{key:0,type:"primary",status:"success",size:"mini"},{icon:e(()=>[t(b)]),_:1})):c("",!0),t(Q,{type:"warning",content:"您确定要删除该项吗?",onBeforeOk:ee=>O(o)},{default:e(()=>[t(r,{type:"primary",status:"danger",size:"mini"},{icon:e(()=>[t(K)]),default:e(()=>[n[15]||(n[15]=y("span",null,"删除",-1))]),_:1,__:[15]})]),_:2},1032,["onBeforeOk"])]),_:2},1024)]),_:1},8,["fixed"])]),_:1},8,["data","loading"]),t(_e,{ref_key:"AddMenuModalRef",ref:g,menus:s(k),onSaveSuccess:s(w)},null,8,["menus","onSaveSuccess"])]),_:1})}}});export{Oe as default};
