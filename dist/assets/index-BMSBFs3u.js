import{_ as W}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-Dsi2Injn.js";import{dj as f}from"./index-COakebNL.js";import{u as F}from"./useTable-B8Y9iGJZ.js";import"./dept-Dmun1cmX.js";import{u as H}from"./useDict-COD8ChSZ.js";import"./role-C-C9HNfF.js";import{_ as J}from"./AddDictModal.vue_vue_type_script_setup_true_lang-CEui8_Vo.js";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang-BmaHOR1_.js";import{a9 as X}from"./arco-BuJQNAYO.js";import{e as Y,ac as D,r as Z,h as n,j as ee,k as te,l as t,t as e,a1 as a,m as d,y as oe,z as ne}from"./vue-_iYK9Zi6.js";import"./useBreakpoint-DAFsyWcD.js";import"./index-BPv1vC5v.js";import"./useResetReactive-Bbo38ME6.js";import"./regexp-BWv6Tqg2.js";import"./AddDictDataModal.vue_vue_type_script_setup_true_lang-Dh0QJ0Gi.js";const xe=Y({name:"SystemRole",__name:"index",setup(ae){const{data:C}=H({code:"status"}),p=D("AddDictModalRef"),y=D("DictDataModalRef"),i=Z({name:"",status:""}),{loading:b,tableData:v,pagination:S,selectedKeys:_,search:u,select:V,selectAll:A,fixed:M,handleDelete:g}=F(s=>f.getList({...s,...i}),{immediate:!0}),R=()=>{i.name="",i.status="",u()},$=()=>{p.value?.add()},h=s=>{p.value?.edit(s.id)},B=s=>g(()=>f.delete({ids:[s.id]}),{showModal:!1}),z=()=>_.value.length?g(()=>f.delete({ids:_.value})):X.warning("请选择字典！"),T=s=>{y.value?.open({code:s.code})};return(s,o)=>{const k=n("icon-search"),N=n("a-input"),j=n("a-select"),c=n("a-button"),I=n("icon-refresh"),m=n("a-space"),L=n("icon-plus"),w=n("icon-delete"),O=n("a-row"),r=n("a-table-column"),P=W,U=n("icon-storage"),q=n("icon-edit"),E=n("a-popconfirm"),G=n("a-table"),K=n("a-card");return te(),ee(K,{title:"字典管理",class:"gi_page_card"},{default:t(()=>[e(m,{wrap:""},{default:t(()=>[e(N,{modelValue:a(i).name,"onUpdate:modelValue":o[0]||(o[0]=l=>a(i).name=l),placeholder:"字典类型名称/编码","allow-clear":"",style:{width:"250px"}},{prefix:t(()=>[e(k)]),_:1},8,["modelValue"]),e(j,{modelValue:a(i).status,"onUpdate:modelValue":o[1]||(o[1]=l=>a(i).status=l),options:a(C),placeholder:"状态","allow-clear":"",style:{width:"120px"}},null,8,["modelValue","options"]),e(c,{type:"primary",onClick:a(u)},{icon:t(()=>[e(k)]),default:t(()=>[o[2]||(o[2]=d("span",null,"查询",-1))]),_:1,__:[2]},8,["onClick"]),e(c,{onClick:R},{icon:t(()=>[e(I)]),default:t(()=>[o[3]||(o[3]=d("span",null,"重置",-1))]),_:1,__:[3]})]),_:1}),e(O,null,{default:t(()=>[e(m,{wrap:""},{default:t(()=>[e(c,{type:"primary",onClick:$},{icon:t(()=>[e(L)]),default:t(()=>[o[4]||(o[4]=d("span",null,"新增",-1))]),_:1,__:[4]}),e(c,{type:"primary",status:"danger",onClick:z},{icon:t(()=>[e(w)]),default:t(()=>[o[5]||(o[5]=d("span",null,"删除",-1))]),_:1,__:[5]})]),_:1})]),_:1}),e(G,{class:"gi_table","row-key":"id",data:a(v),bordered:{cell:!0},loading:a(b),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:a(S),"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":a(_),onSelect:a(V),onSelectAll:a(A)},{columns:t(()=>[e(r,{title:"序号",width:64},{cell:t(l=>[oe(ne(l.rowIndex+1),1)]),_:1}),e(r,{title:"字典名称","data-index":"name"}),e(r,{title:"字典编码","data-index":"code"}),e(r,{title:"状态",width:100,align:"center"},{cell:t(({record:l})=>[e(P,{status:l.status},null,8,["status"])]),_:1}),e(r,{title:"描述","data-index":"description",ellipsis:!0,tooltip:!0}),e(r,{title:"创建时间","data-index":"createTime",width:180}),e(r,{title:"操作",width:280,align:"center",fixed:a(M)},{cell:t(({record:l})=>[e(m,null,{default:t(()=>[e(c,{type:"primary",status:"success",size:"mini",onClick:x=>T(l)},{icon:t(()=>[e(U)]),default:t(()=>[o[6]||(o[6]=d("span",null,"字典数据",-1))]),_:2,__:[6]},1032,["onClick"]),e(c,{type:"primary",size:"mini",onClick:x=>h(l)},{icon:t(()=>[e(q)]),default:t(()=>[o[7]||(o[7]=d("span",null,"编辑",-1))]),_:2,__:[7]},1032,["onClick"]),e(E,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:x=>B(l)},{default:t(()=>[e(c,{type:"primary",status:"danger",size:"mini"},{icon:t(()=>[e(w)]),default:t(()=>[o[8]||(o[8]=d("span",null,"删除",-1))]),_:1,__:[8]})]),_:2},1032,["onBeforeOk"])]),_:2},1024)]),_:1},8,["fixed"])]),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),e(J,{ref_key:"AddDictModalRef",ref:p,onSaveSuccess:a(u)},null,8,["onSaveSuccess"]),e(Q,{ref_key:"DictDataModalRef",ref:y},null,512)]),_:1})}}});export{xe as default};
