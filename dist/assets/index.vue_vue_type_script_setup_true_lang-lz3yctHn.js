import{_}from"./AddUserForm.vue_vue_type_script_setup_true_lang-W3ivIcjb.js";import{a as h,O as g}from"./regexp-BWv6Tqg2.js";import{ac as c,ag as s}from"./arco-Buj77_8l.js";import{r as x,a as p,t as a,h as o,e as k,j as y,k as v,l as r,y as d}from"./vue-sr_Z8kjA.js";const B=()=>{const t=x({name:"",phone:""}),l=p(null),u={name:[{required:!0,message:"请输入姓名"},{match:g,message:"只能是中文姓名"},{minLength:1,maxLength:4,message:"名字最长不超过4个字符"}],phone:[{required:!0,message:"请输入手机号"},{match:h,message:"手机号格式不正确"}]},n=()=>new Promise(e=>setTimeout(()=>{e(!0)},2e3));c.open({title:"添加用户",content:()=>a(s,{ref:l,model:t,rules:u},{default:()=>[a(s.Item,{label:"用户名",field:"name"},{default:()=>[a(o("a-input"),{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,placeholder:"请输入用户名","max-length":4,"allow-clear":!0},null)]}),a(s.Item,{label:"手机号",field:"phone"},{default:()=>[a(o("a-input"),{modelValue:t.phone,"onUpdate:modelValue":e=>t.phone=e,placeholder:"请输入手机号","max-length":11,"allow-clear":!0},null)]})]}),okText:"添加",onBeforeOk:async()=>{if(await l.value?.validate())return!1;try{return await n(),!0}catch{return!1}}})},U=k({__name:"index",setup(t){const l=()=>{B()},u=()=>{const n=p(null);c.open({title:"添加用户",content:()=>a(_,{ref:n},null),okText:"添加",onBeforeOk:async()=>await n.value?.handleAddUser()})};return(n,e)=>{const m=o("a-button"),i=o("a-space"),f=o("a-card");return v(),y(f,{title:"函数弹窗",bordered:!1},{default:r(()=>[a(i,null,{default:r(()=>[a(m,{type:"primary",onClick:l},{default:r(()=>e[0]||(e[0]=[d("打开添加用户弹窗(方式1)",-1)])),_:1,__:[0]}),a(m,{type:"primary",onClick:u},{default:r(()=>e[1]||(e[1]=[d("打开添加用户弹窗(方式2)",-1)])),_:1,__:[1]})]),_:1})]),_:1})}}});export{U as _};
