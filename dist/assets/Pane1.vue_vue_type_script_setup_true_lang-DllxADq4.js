import{_ as V}from"./index-DVUDzxhH.js";import{_ as j}from"./GiEditTable-C4WNJ3N-.js";import"./index-nN1PoSln.js";import"./dept-GYyz1j5K.js";import{u as D}from"./useDict-CBcDm_sa.js";import"./role-ikVY_VFV.js";import{a as N}from"./regexp-BWv6Tqg2.js";import E from"./FilterAddress-3gWmwvOv.js";import{a9 as p}from"./arco-Buj77_8l.js";import{e as G,a as f,c as y,ac as O,t as e,h as r,n as z,k as B,l as a,a1 as i,y as u,z as F,m as S}from"./vue-sr_Z8kjA.js";const $={class:"gi_padding"},Z=G({name:"FormTable",__name:"Pane1",setup(q){const{data:g}=D({code:"status"}),s=f(!1),d=f([{name:"张三",phone:"",address:"广州市",rate:3,status:0,num:0}]),v=y(()=>JSON.stringify(d.value,null,"	")),o=O("GiEditTableRef"),b=y(()=>[{type:"input",title:"姓名",dataIndex:"name",required:!0},{type:"input",title:"手机号",dataIndex:"phone",required:!0,rules:[{match:N,message:"手机号格式不正确"}]},{type:"select",title:"状态",dataIndex:"status",props:{options:g.value}},{type:"rate",title:"评分",dataIndex:"rate",columnProps:{width:200}},{type:"input-number",title:"小数",dataIndex:"num",columnProps:{width:120}},{type:"textarea",title:"地址",dataIndex:"address",props:{autoSize:!0,maxLength:200,showWordLimit:!0},columnProps:{width:250,title:()=>e(r("a-space"),null,{default:()=>[e("span",null,[u("地址 ")]),e(E,{onConfirm:n=>{p.success(`点击了确认，查询值为: ${n||"空"}`)}},null)]})}},{type:"",title:"操作",dataIndex:"action",slotName:"action",columnProps:{width:100,align:"center",fixed:"right"},formItemProps:{contentClass:"arco-table-cell-align-center"}}]),w=()=>{d.value.push({name:"",phone:"",address:"",rate:0,status:0,num:0})},x=n=>{d.value.splice(n,1)},C=()=>{s.value=!s.value,s.value&&o.value?.formRef?.clearValidate()},R=()=>{o.value?.formRef?.resetFields(),o.value?.formRef?.clearValidate()},h=async()=>{const n=await o.value?.formRef?.validate();if(n){const t=Object.values(n);p.warning(t[0].message);return}p.success("验证通过~")},k=({rowIndex:n,col:t})=>!!(s.value||t.dataIndex==="name"&&n===0);return(n,t)=>{const l=r("a-button"),I=r("icon-plus"),c=r("a-space"),m=r("a-row"),P=j,T=V;return B(),z("div",$,[e(m,{justify:"end"},{default:a(()=>[e(c,{wrap:""},{default:a(()=>[e(l,{type:"primary",status:i(s)?"success":"warning",onClick:C},{default:a(()=>[u(F(i(s)?"编辑":"只读"),1)]),_:1},8,["status"]),e(l,{type:"primary",onClick:w},{icon:a(()=>[e(I)]),default:a(()=>[t[0]||(t[0]=S("span",null,"新增",-1))]),_:1,__:[0]})]),_:1})]),_:1}),e(P,{ref_key:"GiEditTableRef",ref:o,scroll:{minWidth:1200},columns:i(b),data:i(d),"cell-disabled":k},{action:a(({rowIndex:_})=>[e(c,null,{default:a(()=>[e(l,{type:"primary",status:"danger",size:"mini",disabled:_===0,onClick:J=>x(_)},{default:a(()=>t[1]||(t[1]=[u(" 删除 ",-1)])),_:2,__:[1]},1032,["disabled","onClick"])]),_:2},1024)]),_:1},8,["columns","data"]),e(m,{justify:"end",class:"gi_mt"},{default:a(()=>[e(c,{wrap:""},{default:a(()=>[e(l,{onClick:R},{default:a(()=>t[2]||(t[2]=[u("重置",-1)])),_:1,__:[2]}),e(l,{type:"primary",onClick:h},{default:a(()=>t[3]||(t[3]=[u("验证并提交",-1)])),_:1,__:[3]})]),_:1})]),_:1}),e(T,{"code-json":i(v)},null,8,["code-json"])])}}});export{Z as _};
