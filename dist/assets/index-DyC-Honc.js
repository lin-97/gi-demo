import{_ as Y}from"./index-d6X1y8sD.js";import{_ as Z}from"./index-BzaT1ntW.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-DEmpfeVK.js";import{b as C}from"./menu-Bask2XCi.js";import{_ as te}from"./index-6ia8nwMc.js";import{dm as ne,i as oe}from"./index-BJpBVVpn.js";import{u as le}from"./useTable-CdwSk5l7.js";import"./dept-hvCAZQXb.js";import{u as ae}from"./useDict-ChW8sIaT.js";import"./role-0WIy0paV.js";import{_ as ie}from"./AddMenuModal.vue_vue_type_script_setup_true_lang-2w5se2Xf.js";import{ad as se}from"./arco-CDZlpuCh.js";import{e as de,ac as h,a as me,r as _e,h as l,j as i,k as a,l as n,t as e,a1 as s,y as m,z as v,p as u,n as ce,F as pe,O as ue,X as re}from"./vue-_iYK9Zi6.js";/* empty css                                                              */import"./useBreakpoint-DAFsyWcD.js";import"./index-BPv1vC5v.js";import"./index-DqTf35Na.js";import"./useResetReactive-8TRckTE7.js";const Ee=de({name:"SystemMenu",__name:"index",setup(fe){const{data:V}=ae({code:"status"}),y=h("AddMenuModalRef"),x=h("tableRef"),r=me(!1),D=()=>{r.value=!r.value,x.value?.expandAll(r.value)},c=_e({name:"",status:""}),{loading:R,tableData:g,search:k,fixed:I,handleDelete:M}=le(()=>C.getList({...c}),{immediate:!0}),S=()=>{c.name="",c.status="",k()},A=()=>{y.value?.add()},B=f=>{y.value?.edit(f.id)},E=f=>M(()=>C.delete({ids:[f.id]}),{showModal:!1}),N=()=>{se.open({title:"数据结构",content:()=>re(te,{codeJson:JSON.stringify(g.value,null,"	")}),width:560})};return(f,o)=>{const p=ee,$=l("icon-list"),O=l("icon-mind-mapping"),w=l("a-button"),z=l("a-tooltip"),P=l("icon-code"),b=l("a-space"),T=l("a-select"),G=l("a-input"),L=l("a-input-group"),j=l("a-row"),F=l("IconDown"),J=l("IconRight"),d=l("a-table-column"),_=l("a-tag"),U=Z,q=l("a-switch"),W=l("icon-plus"),X=l("a-popconfirm"),H=l("a-table"),K=Y;return a(),i(K,{margin:""},{default:n(()=>[e(j,{justify:"space-between"},{default:n(()=>[e(b,{wrap:""},{default:n(()=>[e(p,{type:"add",onClick:A}),e(z,{content:"展开/折叠"},{default:n(()=>[e(w,{type:"primary",status:"success",onClick:D},{icon:n(()=>[s(r)?(a(),i(O,{key:1})):(a(),i($,{key:0}))]),_:1})]),_:1}),e(z,{content:"查看数据结构"},{default:n(()=>[e(w,{type:"primary",status:"warning",onClick:N},{icon:n(()=>[e(P)]),_:1})]),_:1})]),_:1}),e(b,{wrap:""},{default:n(()=>[e(L,null,{default:n(()=>[e(T,{modelValue:s(c).status,"onUpdate:modelValue":o[0]||(o[0]=t=>s(c).status=t),options:s(V),placeholder:"菜单状态",style:{width:"120px"}},null,8,["modelValue","options"]),e(G,{modelValue:s(c).name,"onUpdate:modelValue":o[1]||(o[1]=t=>s(c).name=t),placeholder:"输入菜单名称搜索","allow-clear":"",style:{width:"250px"}},null,8,["modelValue"])]),_:1}),e(p,{type:"search",onClick:s(k)},null,8,["onClick"]),e(p,{type:"reset",onClick:S})]),_:1})]),_:1}),e(H,{ref_key:"tableRef",ref:x,class:"gi_table","row-key":"id",data:s(g),loading:s(R),bordered:{cell:!0},scroll:{x:"100%",y:"100%",minWidth:1700},pagination:!1,size:"mini"},{"expand-icon":n(({expanded:t})=>[t?(a(),i(F,{key:0})):(a(),i(J,{key:1}))]),columns:n(()=>[e(d,{title:"菜单名称"},{cell:n(({record:t})=>[m(v(t.title||""),1)]),_:1}),e(d,{title:"类型",width:80,align:"center"},{cell:n(({record:t})=>[t.type===1?(a(),i(_,{key:0,size:"small",color:"orangered"},{default:n(()=>o[2]||(o[2]=[m("目录",-1)])),_:1,__:[2]})):u("",!0),t.type===2?(a(),i(_,{key:1,size:"small",color:"green"},{default:n(()=>o[3]||(o[3]=[m("菜单",-1)])),_:1,__:[3]})):u("",!0),t.type===3?(a(),i(_,{key:2,size:"small"},{default:n(()=>o[4]||(o[4]=[m("按钮",-1)])),_:1,__:[4]})):u("",!0)]),_:1}),e(d,{title:"排序",width:80,align:"center"},{cell:n(({record:t})=>[m(v(t.sort||0),1)]),_:1}),e(d,{title:"路由路径","data-index":"path"}),e(d,{title:"路由名称"},{cell:n(({record:t})=>[m(v(s(ne)(t.path)),1)]),_:1}),e(d,{title:"组件路径","data-index":"component"}),e(d,{title:"权限标识","data-index":"permission"}),e(d,{title:"菜单图标","data-index":"icon",width:100,align:"center"},{cell:n(({record:t})=>[t.svgIcon?(a(),i(U,{key:0,size:24,name:t.svgIcon},null,8,["name"])):(a(),ce(pe,{key:1},[t.icon?(a(),i(ue(t.icon),{key:0,size:24})):u("",!0)],64))]),_:1}),e(d,{title:"状态",width:80,align:"center"},{cell:n(({record:t})=>[e(q,{type:"round",size:"small","model-value":t.status,"checked-value":1,"unchecked-value":0},null,8,["model-value"])]),_:1}),e(d,{title:"是否缓存",width:100,align:"center"},{cell:n(({record:t})=>[t.keepAlive?(a(),i(_,{key:0,size:"small",color:"green"},{default:n(()=>o[5]||(o[5]=[m("是",-1)])),_:1,__:[5]})):(a(),i(_,{key:1,size:"small",color:"red"},{default:n(()=>o[6]||(o[6]=[m("否",-1)])),_:1,__:[6]}))]),_:1}),e(d,{title:"是否隐藏",width:100,align:"center"},{cell:n(({record:t})=>[t.hidden?(a(),i(_,{key:0,size:"small",color:"green"},{default:n(()=>o[7]||(o[7]=[m("是",-1)])),_:1,__:[7]})):(a(),i(_,{key:1,size:"small",color:"red"},{default:n(()=>o[8]||(o[8]=[m("否",-1)])),_:1,__:[8]}))]),_:1}),e(d,{title:"是否外链",width:100,align:"center"},{cell:n(({record:t})=>[s(oe)(t.path)?(a(),i(_,{key:0,size:"small",color:"green"},{default:n(()=>o[9]||(o[9]=[m("是",-1)])),_:1,__:[9]})):(a(),i(_,{key:1,size:"small",color:"red"},{default:n(()=>o[10]||(o[10]=[m("否",-1)])),_:1,__:[10]}))]),_:1}),e(d,{title:"操作",width:200,align:"left",fixed:s(I)},{cell:n(({record:t})=>[e(b,null,{default:n(()=>[e(p,{type:"edit",size:"mini",disabled:t.disabled,onClick:Q=>B(t)},null,8,["disabled","onClick"]),[1,2].includes(t.type)?(a(),i(w,{key:0,type:"primary",status:"success",size:"mini"},{icon:n(()=>[e(W)]),_:1})):u("",!0),e(X,{type:"warning",content:"您确定要删除该项吗?",onBeforeOk:Q=>E(t)},{default:n(()=>[e(p,{type:"delete",size:"mini",disabled:t.disabled},null,8,["disabled"])]),_:2},1032,["onBeforeOk"])]),_:2},1024)]),_:1},8,["fixed"])]),_:1},8,["data","loading"]),e(ie,{ref_key:"AddMenuModalRef",ref:y,menus:s(g),onSaveSuccess:s(k)},null,8,["menus","onSaveSuccess"])]),_:1})}}});export{Ee as default};
