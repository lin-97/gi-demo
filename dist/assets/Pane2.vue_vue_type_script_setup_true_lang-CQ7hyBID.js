import{_ as $}from"./index-DVUDzxhH.js";import{_ as S}from"./GiEditTable-C4WNJ3N-.js";import"./index-nN1PoSln.js";import"./dept-GYyz1j5K.js";import{u as h}from"./useDict-CBcDm_sa.js";import"./role-ikVY_VFV.js";import{a as q}from"./regexp-BWv6Tqg2.js";import{a9 as c}from"./arco-Buj77_8l.js";import{e as F,a as b,c as v,ac as J,h as i,n as L,k as _,t as a,l as e,y as s,m as O,j as k,a1 as d}from"./vue-sr_Z8kjA.js";const W={class:"gi_padding"},et=F({name:"FormTable",__name:"Pane2",setup(A){const{data:w}=h({code:"status"}),l=b(-1),r=b([{name:"张三",phone:"",address:"广州市",rate:3,status:0,num:0}]),g=v(()=>JSON.stringify(r.value,null,"	")),u=J("GiEditTableRef"),x=v(()=>[{type:"input",title:"姓名",dataIndex:"name",required:!0},{type:"input",title:"手机号",dataIndex:"phone",required:!0,rules:[{match:q,message:"手机号格式不正确"}]},{type:"select",title:"状态",dataIndex:"status",props:{options:w.value}},{type:"rate",title:"评分",dataIndex:"rate",columnProps:{width:200}},{type:"input-number",title:"小数",dataIndex:"num",columnProps:{width:120}},{type:"textarea",title:"地址",dataIndex:"address",props:{autoSize:!0,maxLength:200,showWordLimit:!0},columnProps:{width:250}},{type:"",title:"操作",dataIndex:"action",slotName:"action",columnProps:{width:140,align:"center",fixed:"right"},formItemProps:{contentClass:"arco-table-cell-align-center"}}]),C=()=>{r.value.push({name:"",phone:"",address:"",rate:0,status:0,num:0})},R=n=>{l.value=n.rowIndex,c.success("GiEditTable自定义的双击事件，参数有rowIndex")},T=()=>{c.info("Arco表格原生自带双击事件")},I=n=>{l.value=n},D=()=>{l.value=-1},E=n=>{r.value.splice(n,1)},P=()=>{u.value?.formRef?.resetFields(),u.value?.formRef?.clearValidate()},j=async()=>{const n=await u.value?.formRef?.validate();if(n){const t=Object.values(n);c.warning(t[0].message);return}c.success("验证通过~")},G=({rowIndex:n})=>l.value!==n;return(n,t)=>{const N=i("a-alert"),V=i("icon-plus"),o=i("a-button"),p=i("a-space"),f=i("a-row"),z=S,B=$;return _(),L("div",W,[a(N,null,{default:e(()=>t[1]||(t[1]=[s("此示例基于GiEditTable实现了行编辑，以及行双击编辑",-1)])),_:1,__:[1]}),a(f,{class:"gi_mt",justify:"end"},{default:e(()=>[a(p,{wrap:""},{default:e(()=>[a(o,{type:"primary",onClick:C},{icon:e(()=>[a(V)]),default:e(()=>[t[2]||(t[2]=O("span",null,"新增",-1))]),_:1,__:[2]})]),_:1})]),_:1}),a(z,{ref_key:"GiEditTableRef",ref:u,scroll:{minWidth:1200},columns:d(x),data:d(r),"cell-disabled":G,onTrDblclick:R,onRowDblclick:T},{action:e(({rowIndex:m})=>[a(p,null,{default:e(()=>[m!==d(l)?(_(),k(o,{key:0,type:"primary",size:"mini",onClick:y=>I(m)},{default:e(()=>t[3]||(t[3]=[s(" 编辑 ",-1)])),_:2,__:[3]},1032,["onClick"])):(_(),k(o,{key:1,type:"primary",status:"success",size:"mini",onClick:t[0]||(t[0]=y=>D())},{default:e(()=>t[4]||(t[4]=[s("保存",-1)])),_:1,__:[4]})),a(o,{type:"primary",status:"danger",size:"mini",onClick:y=>E(m)},{default:e(()=>t[5]||(t[5]=[s(" 删除 ",-1)])),_:2,__:[5]},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns","data"]),a(f,{justify:"end",class:"gi_mt"},{default:e(()=>[a(p,{wrap:""},{default:e(()=>[a(o,{onClick:P},{default:e(()=>t[6]||(t[6]=[s("重置",-1)])),_:1,__:[6]}),a(o,{type:"primary",onClick:j},{default:e(()=>t[7]||(t[7]=[s("验证并提交",-1)])),_:1,__:[7]})]),_:1})]),_:1}),a(B,{"code-json":d(g)},null,8,["code-json"])])}}});export{et as _};
