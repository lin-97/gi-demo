import{g as _}from"./menu-DVLiFJmi.js";import{g as b}from"./role-CQOef2Ft.js";import{e as g}from"./index-DBvjnvFZ.js";import{a9 as y}from"./arco-CDZlpuCh.js";import{e as x,ac as R,a as l,c as h,h as i,j as M,k as C,a1 as a,Y as u,l as T,t as D,C as w}from"./vue-_iYK9Zi6.js";const K=x({__name:"PermModal",setup(B,{expose:m}){const r=R("treeRef"),c=l([]);(async()=>{const o=await _();c.value=o.data,w(()=>{r.value?.expandAll()})})();const d=h(()=>"分配权限"),s=l(!1),t=l([]),p=o=>{t.value=[],s.value=!0,b({role:o.code}).then(e=>{t.value=e.data})},f=()=>{y.success("模拟保存成功")};return m({open:p}),(o,e)=>{const k=i("a-tree"),v=i("a-modal");return C(),M(v,{visible:a(s),"onUpdate:visible":e[1]||(e[1]=n=>u(s)?s.value=n:null),title:a(d),fullscreen:a(g)(),"mask-closable":!0,onOk:f},{default:T(()=>[D(k,{ref_key:"treeRef",ref:r,"checked-keys":a(t),"onUpdate:checkedKeys":e[0]||(e[0]=n=>u(t)?t.value=n:null),size:"mini",checkable:"","check-strictly":!0,data:a(c),"field-names":{key:"id"}},null,8,["checked-keys","data"])]),_:1},8,["visible","title","fullscreen"])}}});export{K as _};
