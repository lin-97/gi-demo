import{_ as U}from"./index-Zwwi5Ftb.js";import{_ as q}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-BZ7_A1X3.js";import{_ as E}from"./index.vue_vue_type_script_setup_true_lang-ChZBomrs.js";import{dj as _}from"./index-D1V-3yfm.js";import{u as K}from"./useTable-CK5kmjjD.js";import"./dept-BHuwfU5l.js";import{u as W}from"./useDict-Btldr1OX.js";import"./role-B9mLd4Sk.js";import{_ as F}from"./AddDictModal.vue_vue_type_script_setup_true_lang-eqtYbTKg.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang-o1wpmtg2.js";import{a9 as J}from"./arco-DTGWTKTH.js";import{e as Q,ac as w,r as X,h as n,j as Y,k as Z,l as a,t as e,a1 as t,y as ee,z as te,m as oe}from"./vue-CNbhFRxi.js";import"./useBreakpoint-DHNpXxSV.js";import"./index-Df9C7UWN.js";import"./useResetReactive-CYgD-9rV.js";import"./regexp-BWv6Tqg2.js";import"./AddDictDataModal.vue_vue_type_script_setup_true_lang-56dQmpta.js";const xe=Q({name:"SystemRole",__name:"index",setup(ae){const{data:k}=W({code:"status"}),r=w("AddDictModalRef"),f=w("DictDataModalRef"),s=X({name:"",status:""}),{loading:b,tableData:x,pagination:D,selectedKeys:p,search:m,select:h,selectAll:C,fixed:v,handleDelete:y}=K(l=>_.getList({...l,...s}),{immediate:!0}),S=()=>{s.name="",s.status="",m()},V=()=>{r.value?.add()},A=l=>{r.value?.edit(l.id)},M=l=>y(()=>_.delete({ids:[l.id]}),{showModal:!1}),R=()=>p.value.length?y(()=>_.delete({ids:p.value})):J.warning("请选择字典！"),$=l=>{f.value?.open({code:l.code})};return(l,c)=>{const d=E,u=n("a-space"),B=n("a-select"),z=n("a-input"),T=n("a-input-group"),j=n("a-row"),i=n("a-table-column"),G=q,L=n("icon-storage"),N=n("a-button"),P=n("a-popconfirm"),I=n("a-table"),O=U;return Z(),Y(O,{margin:""},{default:a(()=>[e(j,{justify:"space-between"},{default:a(()=>[e(u,{wrap:""},{default:a(()=>[e(d,{type:"add",onClick:V}),e(d,{type:"delete",onClick:R})]),_:1}),e(u,{wrap:""},{default:a(()=>[e(T,null,{default:a(()=>[e(B,{modelValue:t(s).status,"onUpdate:modelValue":c[0]||(c[0]=o=>t(s).status=o),options:t(k),placeholder:"状态","allow-clear":"",style:{width:"120px"}},null,8,["modelValue","options"]),e(z,{modelValue:t(s).name,"onUpdate:modelValue":c[1]||(c[1]=o=>t(s).name=o),placeholder:"字典类型名称/编码","allow-clear":"",style:{width:"250px"}},null,8,["modelValue"])]),_:1}),e(d,{type:"search",onClick:t(m)},null,8,["onClick"]),e(d,{type:"reset",onClick:S})]),_:1})]),_:1}),e(I,{class:"gi_table","row-key":"id",data:t(x),bordered:{cell:!0},loading:t(b),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:t(D),"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":t(p),onSelect:t(h),onSelectAll:t(C)},{columns:a(()=>[e(i,{title:"序号",width:68,align:"center"},{cell:a(o=>[ee(te(o.rowIndex+1),1)]),_:1}),e(i,{title:"字典名称","data-index":"name"}),e(i,{title:"字典编码","data-index":"code"}),e(i,{title:"状态",width:100,align:"center"},{cell:a(({record:o})=>[e(G,{status:o.status},null,8,["status"])]),_:1}),e(i,{title:"描述","data-index":"description",ellipsis:!0,tooltip:!0}),e(i,{title:"创建时间","data-index":"createTime",width:180}),e(i,{title:"操作",width:280,align:"center",fixed:t(v)},{cell:a(({record:o})=>[e(u,null,{default:a(()=>[e(N,{type:"primary",status:"success",size:"mini",onClick:g=>$(o)},{icon:a(()=>[e(L)]),default:a(()=>[c[2]||(c[2]=oe("span",null,"字典数据",-1))]),_:2,__:[2]},1032,["onClick"]),e(d,{type:"edit",size:"mini",disabled:o.disabled,onClick:g=>A(o)},null,8,["disabled","onClick"]),e(P,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:g=>M(o)},{default:a(()=>[e(d,{type:"delete",size:"mini",disabled:o.disabled},null,8,["disabled"])]),_:2},1032,["onBeforeOk"])]),_:2},1024)]),_:1},8,["fixed"])]),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),e(F,{ref_key:"AddDictModalRef",ref:r,onSaveSuccess:t(m)},null,8,["onSaveSuccess"]),e(H,{ref_key:"DictDataModalRef",ref:f},null,512)]),_:1})}}});export{xe as default};
