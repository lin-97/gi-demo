import{g as _}from"./menu-LUp1SMQR.js";import{g}from"./role-B9mLd4Sk.js";import{a9 as x}from"./arco-DTGWTKTH.js";import{e as y,ac as b,a as l,c as h,h as i,j as R,k as M,a1 as o,Y as u,l as T,t as w,A as C}from"./vue-CNbhFRxi.js";const j=y({__name:"PermModal",setup(D,{expose:d}){const c=b("treeRef"),r=l([]);(async()=>{const s=await _();r.value=s.data,C(()=>{c.value?.expandAll()})})();const m=h(()=>"分配权限"),a=l(!1),t=l([]),p=s=>{t.value=[],a.value=!0,g({role:s.code}).then(e=>{t.value=e.data})},f=()=>{x.success("模拟保存成功")};return d({open:p}),(s,e)=>{const k=i("a-tree"),v=i("a-modal");return M(),R(v,{visible:o(a),"onUpdate:visible":e[1]||(e[1]=n=>u(a)?a.value=n:null),title:o(m),width:"calc(100% - 20px)","mask-closable":!0,onOk:f},{default:T(()=>[w(k,{ref_key:"treeRef",ref:c,"checked-keys":o(t),"onUpdate:checkedKeys":e[0]||(e[0]=n=>u(t)?t.value=n:null),size:"mini",checkable:"","check-strictly":!0,data:o(r),"field-names":{key:"id"}},null,8,["checked-keys","data"])]),_:1},8,["visible","title"])}}});export{j as _};
