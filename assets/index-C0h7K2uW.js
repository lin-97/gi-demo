import{a as N,_ as P}from"./index.vue_vue_type_script_setup_true_lang-DFaDkNLD.js";import{d as j,c as A,e as E,_ as F}from"./index-D1V-3yfm.js";import{a as p,e as G,r as H,ac as I,n as Q,t as o,l as s,h as t,a7 as Y,k as $,m as r,a1 as n,Y as D,y as u}from"./vue-CNbhFRxi.js";import{P as J}from"./regexp-BWv6Tqg2.js";import K from"./index-C5CtyYkz.js";import{a9 as O}from"./arco-DTGWTKTH.js";import"./index-Df9C7UWN.js";import"./CornerBottom.vue_vue_type_script_setup_true_lang-ThLMJxf3.js";import"./CornerTop.vue_vue_type_script_setup_true_lang-CLj26tdW.js";function W(f=!1){const l=p(f);return{loading:l,setLoading:a=>{l.value=a},toggle:()=>{l.value=!l.value}}}const X="/gi-demo/assets/login-img-C_47HFep.svg",Z={class:"login"},ee={class:"login-right"},oe=G({name:"Login",__name:"index",setup(f){const l=Y(),g=j(),w=A(),a=H({username:"admin",password:"123456"}),b={username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"},{match:J,message:"输入密码格式不正确"}]},_=p(!1),{loading:V,setLoading:v}=W(),R=p(""),x=I("formRef"),h=async()=>{try{if(await x.value?.validate())return;v(!0),await g.login(a),w.reset();const{redirect:e,...m}=l.currentRoute.value.query;l.push({path:e||"/",query:{...m}}),O.success("登录成功")}catch(c){R.value=c.message}finally{v(!1)}};return(c,e)=>{const m=t("a-col"),z=t("icon-user"),L=t("a-input"),d=t("a-form-item"),S=t("icon-lock"),B=t("a-input-password"),C=t("a-checkbox"),q=t("a-link"),y=t("a-row"),k=t("a-button"),T=t("a-space"),U=t("a-form"),M=N;return $(),Q("div",Z,[o(y,{align:"stretch",class:"login-box"},{default:s(()=>[o(m,{xs:0,sm:12,md:15},{default:s(()=>e[3]||(e[3]=[r("div",{class:"login-left"},[r("img",{class:"login-left__img",src:X})],-1)])),_:1,__:[3]}),o(m,{xs:24,sm:12,md:9},{default:s(()=>[r("div",ee,[o(U,{ref_key:"formRef",ref:x,size:n(E)()?"large":"medium",model:n(a),rules:b,style:{width:"84%"},"label-col-style":{display:"none"},"wrapper-col-style":{flex:1}},{default:s(()=>[e[8]||(e[8]=r("h3",{class:"login-right__title"},[r("img",{class:"logo",src:P}),r("span",null,"Admin Pro")],-1)),o(d,{field:"username"},{default:s(()=>[o(L,{modelValue:n(a).username,"onUpdate:modelValue":e[0]||(e[0]=i=>n(a).username=i),placeholder:"账号 admin/user","allow-clear":""},{prefix:s(()=>[o(z,{"stroke-width":1,style:{fontSize:"20px"}})]),_:1},8,["modelValue"])]),_:1}),o(d,{field:"password"},{default:s(()=>[o(B,{modelValue:n(a).password,"onUpdate:modelValue":e[1]||(e[1]=i=>n(a).password=i),placeholder:"密码","allow-clear":""},{prefix:s(()=>[o(S,{"stroke-width":1,style:{fontSize:"20px"}})]),_:1},8,["modelValue"])]),_:1}),o(d,null,{default:s(()=>[o(y,{justify:"space-between",align:"center",class:"w-full"},{default:s(()=>[o(C,{modelValue:n(_),"onUpdate:modelValue":e[2]||(e[2]=i=>D(_)?_.value=i:null)},{default:s(()=>e[4]||(e[4]=[u("记住密码",-1)])),_:1,__:[4]},8,["modelValue"]),o(q,null,{default:s(()=>e[5]||(e[5]=[u("忘记密码",-1)])),_:1,__:[5]})]),_:1})]),_:1}),o(d,null,{default:s(()=>[o(T,{direction:"vertical",fill:"",class:"w-full"},{default:s(()=>[o(k,{type:"primary",size:"large",long:"",loading:n(V),onClick:h},{default:s(()=>e[6]||(e[6]=[u("登录",-1)])),_:1,__:[6]},8,["loading"]),o(k,{type:"text",size:"large",long:"",class:"register-btn"},{default:s(()=>e[7]||(e[7]=[u("注册账号",-1)])),_:1,__:[7]})]),_:1})]),_:1})]),_:1,__:[8]},8,["size","model"])])]),_:1})]),_:1}),o(M,{class:"theme-btn"}),o(K)])}}}),ue=F(oe,[["__scopeId","data-v-e990bcda"]]);export{ue as default};
