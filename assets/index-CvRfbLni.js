import{a9 as m}from"./arco-DTGWTKTH.js";import{e as p,a as l,h as u,j as g,k as _,l as h,m as w}from"./vue-CNbhFRxi.js";import{_ as v}from"./index-D1V-3yfm.js";const x=["src","sandbox","allow"],b=p({name:"GiIframe",__name:"index",props:{src:{default:""},loadingTip:{default:"加载中..."},sandbox:{default:"allow-scripts allow-same-origin allow-forms"},allow:{default:"fullscreen payment"},showError:{type:Boolean,default:!0}},emits:["load","error","loading-change"],setup(n,{expose:t,emit:i}){const s=n,e=i,o=l(),r=l(!0),d=()=>{r.value=!1,e("load"),e("loading-change",!1)},c=a=>{r.value=!1,e("error",a),e("loading-change",!1),s.showError&&m.error("iframe 加载失败，请检查网络连接或链接是否有效")};return t({reload:()=>{o.value&&(r.value=!0,e("loading-change",!0),o.value.src=s.src)},iframeRef:o}),(a,B)=>{const f=u("a-spin");return _(),g(f,{class:"gi-iframe",loading:r.value,"loading-tip":a.loadingTip},{default:h(()=>[w("iframe",{ref_key:"iframeRef",ref:o,class:"iframe",src:a.src,sandbox:a.sandbox,allow:a.allow,onLoad:d,onError:c},null,40,x)]),_:1},8,["loading","loading-tip"])}}}),I=v(b,[["__scopeId","data-v-a154d6de"]]);export{I as _};
