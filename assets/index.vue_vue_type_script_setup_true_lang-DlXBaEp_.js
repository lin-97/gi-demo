import{_ as f}from"./AddUserForm.vue_vue_type_script_setup_true_lang-B4RitGiJ.js";import{a as _,O as h}from"./regexp-BWv6Tqg2.js";import{ac as p,ag as u}from"./arco-DTGWTKTH.js";import{r as g,a as c,t as a,h as l,e as x,n as k,k as v,l as s,y as d}from"./vue-CNbhFRxi.js";const y=()=>{const t=g({name:"",phone:""}),o=c(null),r={name:[{required:!0,message:"请输入姓名"},{match:h,message:"只能是中文姓名"},{minLength:1,maxLength:4,message:"名字最长不超过4个字符"}],phone:[{required:!0,message:"请输入手机号"},{match:_,message:"手机号格式不正确"}]},n=()=>new Promise(e=>setTimeout(()=>{e(!0)},2e3));p.open({title:"添加用户",content:()=>a(u,{ref:o,model:t,rules:r},{default:()=>[a(u.Item,{label:"用户名",field:"name"},{default:()=>[a(l("a-input"),{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,placeholder:"请输入用户名","max-length":4,"allow-clear":!0},null)]}),a(u.Item,{label:"手机号",field:"phone"},{default:()=>[a(l("a-input"),{modelValue:t.phone,"onUpdate:modelValue":e=>t.phone=e,placeholder:"请输入手机号","max-length":11,"allow-clear":!0},null)]})]}),okText:"添加",onBeforeOk:async()=>{if(await o.value?.validate())return!1;try{return await n(),!0}catch{return!1}}})},C=x({__name:"index",setup(t){const o=()=>{y()},r=()=>{const n=c(null);p.open({title:"添加用户",content:()=>a(f,{ref:n},null),okText:"添加",onBeforeOk:async()=>await n.value?.handleAddUser()})};return(n,e)=>{const m=l("a-button"),i=l("a-space");return v(),k("div",null,[a(i,null,{default:s(()=>[a(m,{type:"primary",onClick:o},{default:s(()=>e[0]||(e[0]=[d("打开添加用户弹窗(方式1)",-1)])),_:1,__:[0]}),a(m,{type:"primary",onClick:r},{default:s(()=>e[1]||(e[1]=[d("打开添加用户弹窗(方式2)",-1)])),_:1,__:[1]})]),_:1})])}}});export{C as _};
